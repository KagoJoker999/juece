<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å®¢æœå”®åæ™ºèƒ½å·¥ä½œå° (é™æ€)</title>
  <!-- å¼•å…¥ Tailwind CSS CDN ä»¥æä¾›æ ·å¼æ”¯æŒ -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* ä½¿ç”¨ Inter å­—ä½“ä»¥è·å¾—ç°ä»£æ„Ÿ */
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
    }
  </style>
  <!-- å¼•å…¥ React å’Œ ReactDOM CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- å¼•å…¥ Babel CDNï¼Œç”¨äºåœ¨æµè§ˆå™¨ä¸­ç¼–è¯‘ JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- å¼•å…¥ Lucide Icons for React (è¿™æ˜¯ç®€åŒ–å¤„ç†ï¼Œå‡è®¾ç¯å¢ƒèƒ½è¯†åˆ«) -->
  <!-- ç”±äºæ— æ³•ç›´æ¥å¼•å…¥lucide-reactçš„å®Œæ•´CDNï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªç®€åŒ–çš„Iconç»„ä»¶æ¥åŒ…è£¹SVGï¼Œä»¥ç¡®ä¿é¡µé¢ç»“æ„ä¸æŠ¥é”™ -->
</head>

<body class="bg-slate-100">
  <div id="root">
    <!-- React åº”ç”¨å°†æ¸²æŸ“åœ¨è¿™é‡Œ -->
  </div>

  <script type="text/babel">
    const { useState, useEffect } = React;
    const root = ReactDOM.createRoot(document.getElementById('root'));

    // --- ç®€åŒ– Lucide Icons å®šä¹‰ ---
    // å®é™…çš„lucide-reactç»„ä»¶æ— æ³•é€šè¿‡ç®€å•CDNå¼•å…¥ã€‚è¿™é‡Œä»…ä¸ºé¿å…JSXç¼–è¯‘é”™è¯¯ï¼Œæˆ‘ä»¬ä½¿ç”¨å ä½ç¬¦æˆ–ç®€å•çš„SVGç»“æ„ã€‚
    // ä¸ºäº†ç¡®ä¿åŠŸèƒ½å®Œæ•´ï¼Œæˆ‘å°†ç›´æ¥ä½¿ç”¨inline SVG/Emojiä½œä¸ºå›¾æ ‡çš„è§†è§‰æ›¿ä»£å“ï¼Œä»¥ä¿éšœä»£ç çš„é™æ€å¯è¿è¡Œæ€§ã€‚
    const Icon = ({ name, size = 18, className = "" }) => {
      const iconMap = {
        Clipboard: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg>,
        CheckSquare: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg>,
        ExternalLink: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" x2="21" y1="14" y2="3"></line></svg>,
        AlertTriangle: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#ff914d" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.53125 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.53125 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 15 0 " /><path fill="#ffffff" d="M 24.417969 19.21875 L 16.390625 5.304688 C 16.113281 4.824219 15.59375 4.5 14.996094 4.5 C 14.402344 4.5 13.882812 4.824219 13.605469 5.304688 L 5.578125 19.21875 C 5.441406 19.453125 5.363281 19.726562 5.363281 20.019531 C 5.363281 20.90625 6.085938 21.625 6.96875 21.625 L 23.023438 21.625 C 23.910156 21.625 24.628906 20.90625 24.628906 20.019531 C 24.628906 19.726562 24.550781 19.453125 24.417969 19.21875 Z M 6.96875 20.019531 L 14.996094 6.105469 L 15 6.105469 L 23.023438 20.019531 Z M 14.996094 16.273438 C 14.40625 16.273438 13.925781 16.753906 13.925781 17.34375 C 13.925781 17.933594 14.40625 18.414062 14.996094 18.414062 C 15.589844 18.414062 16.066406 17.933594 16.066406 17.34375 C 16.066406 16.753906 15.589844 16.273438 14.996094 16.273438 Z M 13.925781 11.457031 C 13.925781 11.515625 13.933594 11.578125 13.941406 11.636719 L 14.46875 14.757812 C 14.511719 15.011719 14.734375 15.203125 14.996094 15.203125 C 15.261719 15.203125 15.484375 15.011719 15.523438 14.757812 L 16.050781 11.636719 C 16.0625 11.578125 16.066406 11.515625 16.066406 11.457031 C 16.066406 10.867188 15.589844 10.386719 14.996094 10.386719 C 14.40625 10.386719 13.925781 10.867188 13.925781 11.457031 Z M 13.925781 11.457031 " /></svg>,
        Search: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#ffde59" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.53125 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.53125 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 15 0 " /><path fill="#ffffff" d="M 23.902344 20.179688 L 20.808594 17.082031 C 20.0625 16.335938 18.925781 16.222656 18.054688 16.722656 L 17.058594 15.730469 C 18.011719 14.585938 18.589844 13.121094 18.589844 11.519531 C 18.589844 7.890625 15.632812 4.933594 12.003906 4.933594 C 8.375 4.933594 5.417969 7.890625 5.417969 11.519531 C 5.417969 15.148438 8.375 18.105469 12.003906 18.105469 C 13.605469 18.105469 15.070312 17.527344 16.214844 16.578125 L 17.207031 17.570312 C 16.707031 18.445312 16.820312 19.578125 17.566406 20.324219 L 20.664062 23.417969 C 21.09375 23.851562 21.671875 24.089844 22.28125 24.089844 C 23.546875 24.089844 24.574219 23.0625 24.574219 21.796875 C 24.574219 21.1875 24.335938 20.609375 23.902344 20.179688 Z M 6.617188 11.519531 C 6.617188 8.550781 9.03125 6.132812 12.003906 6.132812 C 14.972656 6.132812 17.390625 8.550781 17.390625 11.519531 C 17.390625 14.492188 14.972656 16.90625 12.003906 16.90625 C 9.03125 16.90625 6.617188 14.492188 6.617188 11.519531 Z M 22.28125 22.894531 C 21.996094 22.894531 21.710938 22.777344 21.507812 22.574219 L 18.414062 19.476562 C 17.984375 19.050781 17.984375 18.355469 18.414062 17.929688 C 18.625 17.714844 18.90625 17.609375 19.1875 17.609375 C 19.464844 17.609375 19.746094 17.714844 19.960938 17.929688 L 23.054688 21.023438 C 23.261719 21.226562 23.375 21.511719 23.375 21.796875 C 23.375 22.402344 22.886719 22.894531 22.28125 22.894531 Z M 22.28125 22.894531 " /><path fill="#ffffff" d="M 7.8125 11.519531 L 9.011719 11.519531 C 9.011719 9.871094 10.351562 8.527344 12.003906 8.527344 L 12.003906 7.328125 C 9.695312 7.328125 7.8125 9.210938 7.8125 11.519531 Z M 7.8125 11.519531 " /></svg>,
        Clock: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#004aad" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.53125 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.53125 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 15 0 " /><path fill="#ffffff" d="M 15 5.515625 C 10.035156 5.515625 6 9.554688 6 14.515625 C 6 19.476562 10.035156 23.515625 15 23.515625 C 19.960938 23.515625 23.996094 19.476562 23.996094 14.515625 C 23.996094 9.554688 19.960938 5.515625 15 5.515625 Z M 15 22.390625 C 10.65625 22.390625 7.125 18.855469 7.125 14.515625 C 7.125 10.171875 10.65625 6.640625 15 6.640625 C 19.339844 6.640625 22.871094 10.171875 22.871094 14.515625 C 22.871094 18.855469 19.339844 22.390625 15 22.390625 Z M 18.691406 17.265625 C 18.582031 17.414062 18.414062 17.492188 18.242188 17.492188 C 18.125 17.492188 18.007812 17.457031 17.90625 17.378906 L 14.664062 14.964844 C 14.519531 14.859375 14.4375 14.691406 14.4375 14.515625 L 14.4375 9.367188 C 14.4375 9.058594 14.6875 8.804688 15 8.804688 C 15.308594 8.804688 15.5625 9.058594 15.5625 9.367188 L 15.5625 14.234375 L 18.578125 16.476562 C 18.828125 16.664062 18.878906 17.015625 18.691406 17.265625 Z M 18.691406 17.265625 " /></svg>,
        Package: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#cb6ce6" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.53125 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.53125 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 15 0 " /><path fill="#ffffff" d="M 6.761719 6.902344 C 6.761719 6.554688 7.042969 6.273438 7.390625 6.273438 L 11.929688 6.273438 C 12.277344 6.273438 12.5625 6.554688 12.5625 6.902344 C 12.5625 7.25 12.277344 7.535156 11.929688 7.535156 L 8.019531 7.535156 L 8.019531 11.445312 C 8.019531 11.792969 7.738281 12.074219 7.390625 12.074219 C 7.042969 12.074219 6.761719 11.792969 6.761719 11.445312 Z M 17.355469 6.902344 C 17.355469 6.554688 17.636719 6.273438 17.984375 6.273438 L 22.523438 6.273438 C 22.871094 6.273438 23.15625 6.554688 23.15625 6.902344 L 23.15625 11.445312 C 23.15625 11.792969 22.871094 12.074219 22.523438 12.074219 C 22.175781 12.074219 21.894531 11.792969 21.894531 11.445312 L 21.894531 7.535156 L 17.984375 7.535156 C 17.636719 7.535156 17.355469 7.25 17.355469 6.902344 Z M 7.390625 16.867188 C 7.738281 16.867188 8.019531 17.148438 8.019531 17.496094 L 8.019531 21.40625 L 11.929688 21.40625 C 12.277344 21.40625 12.5625 21.691406 12.5625 22.039062 C 12.5625 22.386719 12.277344 22.667969 11.929688 22.667969 L 7.390625 22.667969 C 7.042969 22.667969 6.761719 22.386719 6.761719 22.039062 L 6.761719 17.496094 C 6.761719 17.148438 7.042969 16.867188 7.390625 16.867188 Z M 22.523438 16.867188 C 22.871094 16.867188 23.15625 17.148438 23.15625 17.496094 L 23.15625 18.675781 C 23.15625 19.023438 22.871094 19.304688 22.523438 19.304688 C 22.175781 19.304688 21.894531 19.023438 21.894531 18.675781 L 21.894531 17.496094 C 21.894531 17.148438 22.175781 16.867188 22.523438 16.867188 Z M 22.523438 20.566406 C 22.871094 20.566406 23.15625 20.847656 23.15625 21.195312 L 23.15625 22.039062 C 23.15625 22.386719 22.871094 22.667969 22.523438 22.667969 L 17.984375 22.667969 C 17.636719 22.667969 17.355469 22.386719 17.355469 22.039062 C 17.355469 21.691406 17.636719 21.40625 17.984375 21.40625 L 21.894531 21.40625 L 21.894531 21.195312 C 21.894531 20.847656 22.175781 20.566406 22.523438 20.566406 Z M 22.523438 20.566406 " /><path fill="#ffffff" d="M 5.917969 14.46875 C 5.917969 14.121094 6.203125 13.839844 6.550781 13.839844 L 23.367188 13.839844 C 23.714844 13.839844 23.996094 14.121094 23.996094 14.46875 C 23.996094 14.820312 23.714844 15.101562 23.367188 15.101562 L 6.550781 15.101562 C 6.203125 15.101562 5.917969 14.820312 5.917969 14.46875 Z M 5.917969 14.46875 " /></svg>,
        RefreshCw: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#5ce1e6" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.53125 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.53125 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 15 0 " /><path fill="#ffffff" d="M 24.453125 11.222656 L 19.777344 6.953125 C 19.601562 6.789062 19.34375 6.746094 19.121094 6.84375 C 18.90625 6.941406 18.769531 7.148438 18.769531 7.386719 L 18.769531 9.378906 L 13.210938 9.378906 C 12.882812 9.378906 12.613281 9.648438 12.613281 9.976562 L 12.613281 13.347656 C 12.613281 13.675781 12.882812 13.945312 13.210938 13.945312 L 18.769531 13.945312 L 18.769531 15.871094 C 18.761719 15.933594 18.769531 15.996094 18.78125 16.054688 C 18.835938 16.3125 19.042969 16.5 19.3125 16.523438 C 19.328125 16.523438 19.339844 16.523438 19.355469 16.523438 C 19.355469 16.523438 19.355469 16.523438 19.359375 16.523438 C 19.363281 16.523438 19.371094 16.523438 19.375 16.523438 C 19.449219 16.523438 19.523438 16.511719 19.59375 16.484375 C 19.675781 16.453125 19.746094 16.402344 19.808594 16.339844 L 24.449219 12.097656 C 24.570312 11.988281 24.640625 11.828125 24.640625 11.660156 C 24.640625 11.492188 24.574219 11.332031 24.453125 11.222656 Z M 19.367188 12.746094 L 13.8125 12.746094 L 13.8125 10.570312 L 19.367188 10.570312 C 19.699219 10.570312 19.964844 10.304688 19.964844 9.972656 L 19.964844 8.742188 L 23.160156 11.660156 L 19.964844 14.578125 L 19.964844 13.34375 C 19.964844 13.015625 19.699219 12.746094 19.367188 12.746094 Z M 19.367188 12.746094 " /><path fill="#ffffff" d="M 16.980469 15.132812 L 11.421875 15.132812 L 11.421875 13.140625 C 11.421875 12.90625 11.289062 12.699219 11.078125 12.605469 C 10.859375 12.503906 10.601562 12.542969 10.421875 12.703125 C 10.140625 12.945312 9.863281 13.191406 9.585938 13.433594 C 9.3125 13.671875 9.042969 13.910156 8.769531 14.148438 L 7.933594 14.882812 C 7.335938 15.40625 6.742188 15.929688 6.144531 16.453125 L 5.550781 16.972656 C 5.425781 17.082031 5.355469 17.242188 5.355469 17.414062 C 5.355469 17.585938 5.425781 17.75 5.546875 17.855469 C 5.824219 18.097656 6.097656 18.335938 6.371094 18.578125 C 6.648438 18.820312 6.921875 19.0625 7.199219 19.300781 L 8.054688 20.054688 C 8.644531 20.570312 9.234375 21.089844 9.824219 21.605469 L 10.394531 22.105469 C 10.46875 22.179688 10.5625 22.234375 10.667969 22.261719 C 10.71875 22.277344 10.773438 22.28125 10.828125 22.28125 C 10.914062 22.28125 10.996094 22.265625 11.074219 22.226562 C 11.289062 22.132812 11.421875 21.929688 11.421875 21.691406 L 11.421875 19.699219 L 16.980469 19.699219 C 17.308594 19.699219 17.578125 19.429688 17.578125 19.101562 L 17.578125 15.730469 C 17.578125 15.402344 17.308594 15.132812 16.980469 15.132812 Z M 10.820312 16.328125 L 16.378906 16.328125 L 16.378906 18.503906 L 10.820312 18.503906 C 10.492188 18.503906 10.222656 18.769531 10.222656 19.101562 L 10.222656 20.371094 L 8.734375 19.0625 C 8.136719 18.539062 7.542969 18.019531 6.949219 17.5 L 6.855469 17.414062 L 8.839844 15.671875 C 9.300781 15.269531 9.761719 14.863281 10.222656 14.457031 L 10.222656 15.730469 C 10.222656 16.058594 10.492188 16.328125 10.820312 16.328125 Z M 10.820312 16.328125 " /></svg>,
        MessageSquare: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#5e17eb" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.53125 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.53125 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 15 0 " /><path fill="#ffffff" d="M 22.867188 11.753906 L 22.867188 11.652344 C 22.867188 7.707031 19.65625 4.5 15.714844 4.5 L 14.28125 4.5 C 10.339844 4.5 7.128906 7.707031 7.128906 11.652344 L 7.128906 11.753906 C  5.898438 12.074219 4.984375 13.183594 4.984375 14.515625 L 4.984375 15.945312 C 4.984375 17.523438 6.265625 18.804688 7.84375 18.804688 L 9.277344 18.804688 C 9.671875 18.804688 9.992188 18.484375 9.992188 18.089844 L 9.992188 12.367188 C 9.992188 11.972656 9.671875 11.652344 9.277344 11.652344 L 8.558594 11.652344 C 8.558594 8.496094 11.128906 5.929688 14.28125 5.929688 L 15.714844 5.929688 C 18.867188 5.929688 21.433594 8.496094 21.433594 11.652344 L 20.71875 11.652344 C 20.324219 11.652344 20.003906 11.972656 20.003906 12.367188 L 20.003906 18.089844 C 20.003906 18.484375 20.324219 18.804688 20.71875 18.804688 L 21.398438 18.804688 C 21.1875 21.042969 19.980469 21.53125 19.148438 21.636719 C 18.84375 20.820312 18.0625 20.234375 17.144531 20.234375 C 15.960938 20.234375 14.996094 21.199219 14.996094 22.382812 C 14.996094 23.566406 15.960938 24.527344 17.144531 24.527344 C 18.085938 24.527344 18.882812 23.910156 19.167969 23.066406 C 21.386719 22.839844 22.671875 21.320312 22.84375 18.710938 C 24.085938 18.398438 25.011719 17.28125 25.011719 15.945312 L 25.011719 14.515625 C 25.011719 13.183594 24.097656 12.074219 22.867188 11.753906 Z M 17.144531 23.097656 C 16.75 23.097656 16.429688 22.777344 16.429688 22.382812 C 16.429688 21.988281 16.75 21.667969 17.144531 21.667969 C 17.539062 21.667969 17.859375 21.988281 17.859375 22.382812 C 17.859375 22.777344 17.539062 23.097656 17.144531 23.097656 Z M 23.582031 15.945312 C 23.582031 16.734375 22.9375 17.375 22.152344 17.375 L 21.433594 17.375 L 21.433594 13.082031 L 22.152344 13.082031 C 22.9375 13.082031 23.582031 13.726562 23.582031 14.515625 Z M 23.582031 15.945312 " /></svg>,
        Calculator: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#00bf63" d="M 15 29.03125 C 6.996094 29.03125 0.484375 22.519531 0.484375 14.515625 C 0.484375 6.511719 6.996094 0 15 0 C 23.003906 0 29.515625 6.511719 29.515625 14.515625 C 29.515625 22.519531 23.003906 29.03125 15 29.03125 Z M 15 1.382812 C 7.757812 1.382812 1.867188 7.273438 1.867188 14.515625 C 1.867188 21.757812 7.757812 27.648438 15 27.648438 C 22.242188 27.648438 28.132812 21.757812 28.132812 14.515625 C 28.132812 7.273438 22.242188 1.382812 15 1.382812 Z M 15 1.382812 " /><path fill="#00bf63" d="M 11.152344 16.570312 L 11.871094 16.570312 C 12.003906 16.570312 12.117188 16.460938 12.117188 16.328125 L 12.117188 15.566406 C 12.117188 15.429688 12.003906 15.320312 11.871094 15.320312 L 11.152344 15.320312 C 11.015625 15.320312 10.90625 15.429688 10.90625 15.566406 L 10.90625 16.328125 C 10.90625 16.460938 11.015625 16.570312 11.152344 16.570312 Z M 11.152344 16.570312 " /><path fill="#00bf63" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.535156 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.535156 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 20.445312 21.519531 C 20.445312 22.195312 19.894531 22.746094 19.21875 22.746094 L 10.78125 22.746094 C 10.105469 22.746094 9.554688 22.195312 9.554688 21.519531 L 9.554688 7.511719 C 9.554688 7.183594 9.683594 6.875 9.914062 6.644531 C 10.144531 6.414062 10.453125 6.285156 10.78125 6.285156 L 19.21875 6.285156 C 19.894531 6.285156 20.445312 6.835938 20.445312 7.511719 Z M 20.445312 21.519531 " /></svg>,
        FileText: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#ff5757" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.53125 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.53125 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 15 0 " /><path fill="#ffffff" d="M 22.023438 22.460938 C 21.796875 22.460938 21.574219 22.375 21.40625 22.203125 L 7.351562 8.152344 C 7.011719 7.808594 7.011719 7.257812 7.351562 6.914062 C 7.695312 6.570312 8.25 6.570312 8.59375 6.914062 L 22.644531 20.964844 C 22.988281 21.308594 22.988281 21.863281 22.644531 22.203125 C 22.472656 22.375 22.25 22.460938 22.023438 22.460938 Z M 22.023438 22.460938 " /><path fill="#ffffff" d="M 7.972656 22.460938 C 7.746094 22.460938 7.523438 22.375 7.351562 22.203125 C 7.011719 21.863281 7.011719 21.308594 7.351562 20.964844 L 21.40625 6.914062 C 21.746094 6.570312 22.300781 6.570312 22.644531 6.914062 C 22.988281 7.257812 22.988281 7.808594 22.644531 8.152344 L 8.59375 22.203125 C 8.421875 22.375 8.199219 22.460938 7.972656 22.460938 Z M 7.972656 22.460938 " /></svg>,
        AlertCircle: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="8" y2="12"></line><line x1="12" x2="12.01" y1="16" y2="16"></line></svg>,
        UserX: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><line x1="19" x2="19" y1="8" y2="12"></line><line x1="19" x2="15" y1="12" y2="16"></line></svg>,
        ChevronDown: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="6 9 12 15 18 9"></polyline></svg>,
        ChevronRight: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polyline points="9 18 15 12 9 6"></polyline></svg>,
        Truck: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 30 30" className={className}><path fill="#0097b2" d="M 15 0 C 6.984375 0 0.484375 6.5 0.484375 14.515625 C 0.484375 22.53125 6.984375 29.03125 15 29.03125 C 23.015625 29.03125 29.515625 22.53125 29.515625 14.515625 C 29.515625 6.5 23.015625 0 15 0 Z M 15 0 " /><path fill="#ffffff" d="M 23.355469 14.515625 L 23.226562 14.515625 L 22.265625 11.921875 C 22.070312 11.429688 21.578125 11.085938 21.042969 11.085938 L 17.785156 11.085938 L 17.785156 9.371094 C 17.785156 8.664062 17.207031 8.085938 16.5 8.085938 L 6.636719 8.085938 C 5.929688 8.085938 5.351562 8.664062 5.351562 9.371094 L 5.351562 18.371094 C 5.351562 19.082031 5.929688 19.660156 6.636719 19.660156 L 7.558594 19.660156 C 7.753906 20.386719 8.417969 20.945312 9.210938 20.945312 C 9.726562 20.945312 10.175781 20.710938 10.496094 20.367188 C 10.816406 20.730469 11.269531 20.945312 11.78125 20.945312 C 12.574219 20.945312 13.238281 20.386719 13.433594 19.660156 L 19.113281 19.660156 C 19.304688 20.386719 19.96875 20.945312 20.761719 20.945312 C 21.554688 20.945312 22.222656 20.386719 22.414062 19.660156 L 23.355469 19.660156 C 24.0625 19.660156 24.644531 19.082031 24.644531 18.371094 L 24.644531 15.800781 C 24.644531 15.09375 24.0625 14.515625 23.355469 14.515625 Z M 20.785156 20.085938 C 20.3125 20.085938 19.925781 19.703125 19.925781 19.230469 C 19.925781 18.757812 20.3125 18.371094 20.785156 18.371094 C 21.257812 18.371094 21.640625 18.757812 21.640625 19.230469 C 21.640625 19.703125 21.257812 20.085938 20.785156 20.085938 Z M 23.785156 16.230469 L 22.929688 16.230469 C 22.691406 16.230469 22.5 16.421875 22.5 16.660156 C 22.5 16.894531 22.691406 17.085938 22.929688 17.085938 L 23.785156 17.085938 L 23.785156 18.371094 C 23.785156 18.609375 23.59375 18.800781 23.355469 18.800781 L 22.433594 18.800781 C 22.242188 18.074219 21.578125 17.515625 20.785156 17.515625 C 19.992188 17.515625 19.328125 18.074219 19.132812 18.800781 L 17.785156 18.800781 L 17.785156 11.941406 L 19.070312 11.941406 L 19.070312 14.945312 C 19.070312 15.179688 19.261719 15.371094 19.5 15.371094 L 23.355469 15.371094 C 23.59375 15.371094 23.785156 15.566406 23.785156 15.800781 Z M 23.785156 16.230469 " /></svg>,
        Menu: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="3" x2="21" y1="12" y2="12"></line><line x1="3" x2="21" y1="6" y2="6"></line><line x1="3" x2="21" y1="18" y2="18"></line></svg>,
        X: <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="18" x2="6" y1="6" y2="18"></line><line x1="6" x2="18" y1="6" y2="18"></line></svg>
      };
      return iconMap[name] || <span className={className}>*</span>;
    };
    // é‡å‘½åä»¥ä¾¿åœ¨JSXä¸­ä½¿ç”¨
    const Clipboard = (props) => <Icon name="Clipboard" {...props} />;
    const CheckSquare = (props) => <Icon name="CheckSquare" {...props} />;
    const ExternalLink = (props) => <Icon name="ExternalLink" {...props} />;
    const AlertTriangle = (props) => <Icon name="AlertTriangle" {...props} />;
    const Search = (props) => <Icon name="Search" {...props} />;
    const Clock = (props) => <Icon name="Clock" {...props} />;
    const Package = (props) => <Icon name="Package" {...props} />;
    const RefreshCw = (props) => <Icon name="RefreshCw" {...props} />;
    const MessageSquare = (props) => <Icon name="MessageSquare" {...props} />;
    const Calculator = (props) => <Icon name="Calculator" {...props} />;
    const FileText = (props) => <Icon name="FileText" {...props} />;
    const AlertCircle = (props) => <Icon name="AlertCircle" {...props} />;
    const UserX = (props) => <Icon name="UserX" {...props} />;
    const ChevronDown = (props) => <Icon name="ChevronDown" {...props} />;
    const ChevronRight = (props) => <Icon name="ChevronRight" {...props} />;
    const Truck = (props) => <Icon name="Truck" {...props} />;
    const Menu = (props) => <Icon name="Menu" {...props} />;
    const X = (props) => <Icon name="X" {...props} />;

    // ç”±äºåŸä»£ç ä¸­è¿˜æœ‰ ChevronDown/Upï¼Œä½†å®ƒä»¬åœ¨ JSX ä¸­æœªä½¿ç”¨ï¼Œè¿™é‡Œçœç•¥å®šä¹‰

    const Card = ({ children, className = "" }) => (
      <div className={`bg-white rounded-lg shadow-sm border border-slate-200 ${className}`}>
        {children}
      </div>
    );

    const Badge = ({ children, type = "default" }) => {
      const styles = {
        default: "bg-slate-100 text-slate-700",
        warning: "bg-amber-100 text-amber-700",
        danger: "bg-red-100 text-red-700",
        success: "bg-emerald-100 text-emerald-700",
        blue: "bg-blue-100 text-blue-700"
      };
      return (
        <span className={`px-2 py-0.5 rounded text-xs font-medium ${styles[type]}`}>
          {children}
        </span>
      );
    };

    function App() {
      const [activeTab, setActiveTab] = useState('dashboard');
      const [isSopExpanded, setIsSopExpanded] = useState(true);
      const [isDailyExpanded, setIsDailyExpanded] = useState(true);
      const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
      const [checklist, setChecklist] = useState({
        scanReturn: false,
        checkWorkbench: false,
        customerGroup: false,
        oversoldWarning: false,
      });

      const toggleCheck = (key) => {
        setChecklist(prev => ({ ...prev, [key]: !prev[key] }));
      };

      const copyToClipboard = (text) => {
        const el = document.createElement('textarea');
        el.value = text;
        document.body.appendChild(el);
        el.select();
        // ä½¿ç”¨ execCommand æ˜¯ä¸ºäº†å…¼å®¹æ—§ç¯å¢ƒå’Œ iframe é™åˆ¶
        document.execCommand('copy');
        document.body.removeChild(el);
        // å¯ä»¥åœ¨æ­¤å¤„æ·»åŠ ä¸€ä¸ªå¤åˆ¶æˆåŠŸçš„ç®€å•UIæç¤º
      };

      // --- Feature: Decision Calculator ---
      const DecisionCalculator = () => {
        const [price, setPrice] = useState('');
        const [results, setResults] = useState(null);
        const [maxCompensateValue, setMaxCompensateValue] = useState(null);
        const [canReturnToFactory, setCanReturnToFactory] = useState(true); // æ˜¯å¦å¯ä»¥é€€å›å‚å®¶

        const calculate = (val, returnToFactory) => {
          const p = parseFloat(val);
          if (isNaN(p) || p <= 0) {
            setResults(null);
            setMaxCompensateValue(null);
            return;
          }

          // Calculate Max Compensation  
          const maxCompensation = p / 2;
          setMaxCompensateValue(maxCompensation);

          // Formula implementation
          const returnRefund = returnToFactory ? -12 : (0 - (p / 2) - 7); // æ ¹æ®æ˜¯å¦å¯é€€å›å‚å®¶ä½¿ç”¨ä¸åŒå…¬å¼
          const resend = 0;
          const refundOnly = 0 - (p / 2);
          const exchange = p - ((p / 2) + 12);

          const scenarios = [
            { id: 'returnRefund', name: 'é€€è´§é€€æ¬¾', val: returnRefund, formula: returnToFactory ? 'å›ºå®š -12 (å¯é€€å›å‚å®¶)' : '0 - (å”®ä»·/2) - 7 (ä¸å¯é€€å›å‚å®¶)' },
            { id: 'resend', name: 'è¡¥å‘', val: resend, formula: '0' },
            { id: 'refundOnly', name: 'ä»…é€€æ¬¾', val: refundOnly, formula: '0 - (å”®ä»·/2)' },
            { id: 'exchange', name: 'æ¢è´§', val: exchange, formula: 'å”®ä»· - (å”®ä»·/2 + 12)' },
          ];

          // Find max (Best) and min (Worst) values
          const maxVal = Math.max(...scenarios.map(s => s.val));
          const minVal = Math.min(...scenarios.map(s => s.val));

          setResults(scenarios.map(s => ({
            ...s,
            isBest: s.val === maxVal,
            isWorst: s.val === minVal && s.val !== maxVal // Ensure best isn't marked as worst if all equal
          })));
        };

        const handlePriceChange = (e) => {
          const val = e.target.value;
          setPrice(val);
          calculate(val, canReturnToFactory);
        };

        return (
          <div className="max-w-3xl mx-auto space-y-6">
            <Card className="p-6">
              <h2 className="text-xl font-bold text-slate-800 mb-6 flex items-center">
                <Calculator size={20} className="mr-2 text-blue-600" /> å”®åå†³ç­–è®¡ç®—å™¨
              </h2>

              <div className="mb-8">
                <label className="block text-sm font-medium text-slate-700 mb-2">
                  è¾“å…¥å•†å“å”®ä»· (å…ƒ)
                </label>
                <div className="relative">
                  <span className="absolute left-3 top-2.5 text-slate-400">Â¥</span>
                  <input
                    type="number"
                    value={price}
                    onChange={handlePriceChange}
                    placeholder="ä¾‹å¦‚: 50"
                    className="pl-8 w-full border border-slate-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
                  />
                </div>
                <p className="text-xs text-slate-500 mt-2">
                  ç³»ç»Ÿå°†æ ¹æ®å”®ä»·è‡ªåŠ¨è®¡ç®—4ç§æ–¹æ¡ˆçš„é¢„ä¼°ç›ˆäºï¼Œå¹¶æ ‡è®°æœ€ä¼˜ä¸æœ€å·®æ–¹æ¡ˆã€‚
                </p>
              </div>

              {/* é€€å›å‚å®¶é€‰é¡¹ */}
              <div className="mb-8">
                <label className="block text-sm font-medium text-slate-700 mb-3">
                  å•†å“æ˜¯å¦å¯ä»¥é€€å›å‚å®¶ï¼Ÿ
                </label>
                <div className="flex gap-3">
                  <button
                    type="button"
                    onClick={() => {
                      setCanReturnToFactory(true);
                      if (price) calculate(price, true);
                    }}
                    className={`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${canReturnToFactory
                      ? 'bg-blue-600 text-white shadow-md'
                      : 'bg-white text-slate-600 border border-slate-300 hover:border-blue-400 hover:bg-blue-50'
                      }`}
                  >
                    âœ“ å¯ä»¥é€€å›å‚å®¶
                  </button>
                  <button
                    type="button"
                    onClick={() => {
                      setCanReturnToFactory(false);
                      if (price) calculate(price, false);
                    }}
                    className={`flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${!canReturnToFactory
                      ? 'bg-blue-600 text-white shadow-md'
                      : 'bg-white text-slate-600 border border-slate-300 hover:border-blue-400 hover:bg-blue-50'
                      }`}
                  >
                    âœ— ä¸å¯ä»¥é€€å›å‚å®¶
                  </button>
                </div>
              </div>

              {/* Max Compensation Display */}
              {maxCompensateValue !== null && (
                <div className="p-4 bg-amber-50 border border-amber-300 rounded-lg mb-6">
                  <p className="text-sm font-semibold text-amber-800 flex items-center flex-wrap">
                    <AlertTriangle size={16} className="mr-2 text-amber-600 flex-shrink-0" />
                    æœ€å¤§è¡¥å¿é‡‘é¢:
                    <span className="ml-2 text-xl font-bold text-amber-900 mt-1 md:mt-0">
                      Â¥{maxCompensateValue.toFixed(2)}
                    </span>
                  </p>
                </div>
              )}

              {results && (
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {results.map((item) => {
                    let cardStyle = 'bg-white border-slate-200 hover:border-slate-300';
                    if (item.isBest) cardStyle = 'bg-blue-50 border-blue-500 ring-1 ring-blue-500 shadow-md';
                    if (item.isWorst) cardStyle = 'bg-red-50 border-red-500 ring-1 ring-red-500 shadow-md';

                    return (
                      <div
                        key={item.id}
                        className={`border rounded-lg p-4 relative transition-all ${cardStyle}`}
                      >
                        {item.isBest && (
                          <span className="absolute -top-3 left-4 bg-blue-600 text-white text-xs px-2 py-1 rounded shadow-sm">
                            âœ¨ æŸå¤±æœ€å°/æœ€ä¼˜æ–¹æ¡ˆ
                          </span>
                        )}
                        {item.isWorst && (
                          <span className="absolute -top-3 left-4 bg-red-600 text-white text-xs px-2 py-1 rounded shadow-sm">
                            ğŸš« æŸå¤±æœ€å¤§/ä¸æ¨è
                          </span>
                        )}

                        <div className="flex justify-between items-start mb-2">
                          <h3 className={`font-bold ${item.isBest ? 'text-blue-800' : item.isWorst ? 'text-red-800' : 'text-slate-700'}`}>
                            {item.name}
                          </h3>
                          <span className={`text-lg font-mono font-bold ${item.val >= 0 ? 'text-emerald-600' : 'text-red-500'
                            }`}>
                            {item.val > 0 ? '+' : ''}{item.val.toFixed(2)}
                          </span>
                        </div>
                      </div>
                    );
                  })}
                </div>
              )}

              {!results && price && (
                <div className="text-center py-8 text-slate-400">
                  è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—å”®ä»·
                </div>
              )}
            </Card>
          </div>
        );
      };

      // --- Customer Blacklist Module ---
      const CustomerBlacklistModule = () => (
        <div className="max-w-4xl mx-auto space-y-6">
          <Card className="p-6">
            <h2 className="text-xl font-bold text-slate-800 mb-4 flex items-center">
              <UserX size={20} className="mr-2 text-red-600" /> é£é™©æ§åˆ¶ï¼ˆå®¢æˆ·æ‹‰é»‘ï¼‰
            </h2>

            {/* 2åˆ— 2è¡Œå¸ƒå±€ */}
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div className="border rounded-lg p-4 bg-red-50">
                <h3 className="font-bold text-red-700 mb-3">ç¬¬1æ­¥ï¼šé—®é¢˜æ’æŸ¥</h3>
                <div className="bg-white p-3 rounded border border-red-200">
                  <p className="text-sm text-slate-700 mb-2">æ’æŸ¥å®¢æˆ·èŠå¤©è®°å½•ï¼Œç¡®è®¤é—®é¢˜</p>
                  <div className="mt-2 text-xs text-slate-500 bg-slate-100 p-2 rounded">
                    è®°å½•è¯¦ç»†é—®é¢˜å’Œå®¢æˆ·è¡Œä¸º
                  </div>
                </div>
              </div>

              <div className="border rounded-lg p-4 bg-amber-50">
                <h3 className="font-bold text-amber-700 mb-3">ç¬¬2æ­¥ï¼šä¿¡æ¯åé¦ˆ</h3>
                <div className="bg-white p-3 rounded border border-amber-200">
                  <p className="text-sm text-slate-700 mb-2">å°†é—®é¢˜åŠå®¢æˆ·æ˜¯å¦ä¸ºè€å®¢å’Œæ˜¯å¦ä»æœ‰åœ¨é€”è®¢å•åé¦ˆç»™æ·¼</p>
                  <div className="mt-2 text-xs text-amber-600 bg-amber-100 p-2 rounded">
                    æä¾›å®Œæ•´ä¿¡æ¯ä¾›å†³ç­–
                  </div>
                </div>
              </div>

              <div className="border rounded-lg p-4 bg-slate-50">
                <h3 className="font-bold text-slate-700 mb-3">ç¬¬3æ­¥ï¼šè·å–æ‹‰é»‘æŒ‡ä»¤</h3>
                <div className="bg-white p-3 rounded border border-slate-200">
                  <p className="text-sm text-slate-700 mb-2">å‘æ·¼æä¾›æ‹‰é»‘å®¢æˆ·çš„åç§°å’Œå¤´åƒ</p>
                  <div className="mt-2 text-xs text-slate-500 bg-slate-100 p-2 rounded">
                    åœ¨é£é¸½å¯¹è¯æ¡†å†…å¤åˆ¶ï¼Œæ–¹ä¾¿å¿«æ·
                  </div>
                </div>
              </div>

              <div className="border rounded-lg p-4 bg-emerald-50">
                <h3 className="font-bold text-emerald-700 mb-3">ç¬¬4æ­¥ï¼šæ‰§è¡Œæ‹‰é»‘</h3>
                <div className="bg-white p-3 rounded border border-emerald-200">
                  <p className="text-sm text-slate-700 mb-2">åœ¨æœ€åè®¢å•ç»“æŸåæ‹‰é»‘</p>
                  <div className="mt-2 text-xs text-emerald-600 bg-emerald-100 p-2 rounded">
                    é‡è¦ï¼šè®¢å•ç»“æŸåå†æ‹‰é»‘ï¼Œé¿å…å½±å“æ­£å¸¸è®¢å•æµç¨‹
                  </div>
                </div>
              </div>
            </div>

            <div className="mt-6 pt-4 border-t">
              <div className="flex items-center p-4 bg-slate-100 rounded-lg">
                <AlertCircle size={20} className="mr-3 text-slate-600 flex-shrink-0" />
                <p className="text-sm text-slate-700">
                  é£é™©æ§åˆ¶è¦ç‚¹ï¼šç¡®è®¤å®¢æˆ·æ— åœ¨é€”è®¢å•åå†è¿›è¡Œæ‹‰é»‘æ“ä½œï¼Œç¡®ä¿è®¢å•æµç¨‹ä¸å—å½±å“ã€‚
                </p>
              </div>
            </div>
          </Card>
        </div>
      );

      // --- Operation Tips Module ---
      const NotesModule = () => (
        <div className="max-w-3xl mx-auto space-y-6">
          <Card className="p-6">
            <h2 className="text-xl font-bold text-slate-800 mb-6 flex items-center">
              <AlertCircle size={20} className="mr-2 text-orange-600" /> å®¢æœæ“ä½œæŠ€å·§
            </h2>

            <div className="space-y-6">
              {/* Tip 1 */}
              <div className="border border-slate-200 rounded-lg p-5 bg-white hover:shadow-sm transition">
                <div className="flex items-start gap-3">
                  <div className="flex-shrink-0 w-8 h-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center font-bold">1</div>
                  <div className="flex-1">
                    <h3 className="font-bold text-slate-800 mb-2">å–„ç”¨å®¢æˆ·å¯¹è¯æ¡†å¤‡æ³¨</h3>
                    <p className="text-sm text-slate-600 mb-3">
                      å¯¹äºæœ‰ç‰¹æ®Šæƒ…å†µæˆ–éœ€è¦é•¿æœŸå…³æ³¨çš„å®¢æˆ·ï¼ŒåŠ¡å¿…åœ¨å¯¹è¯æ¡†ä¾§è¾¹æ æ·»åŠ å¤‡æ³¨ï¼ˆè®°å½•å®¢äººé•¿æœŸè¡Œä¸ºï¼‰ï¼Œæ–¹ä¾¿åç»­æ¥å¾…æ—¶å¿«é€Ÿäº†è§£æƒ…å†µã€‚
                    </p>
                    <ImageToggler src="å®¢æˆ·å¤‡æ³¨.png" alt="å®¢æˆ·å¤‡æ³¨æ“ä½œç¤ºä¾‹" buttonText="æŸ¥çœ‹å¤‡æ³¨æ“ä½œç¤ºä¾‹" />
                  </div>
                </div>
              </div>

              {/* Tip 2 */}
              <div className="border border-slate-200 rounded-lg p-5 bg-white hover:shadow-sm transition">
                <div className="flex items-start gap-3">
                  <div className="flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold">2</div>
                  <div className="flex-1">
                    <h3 className="font-bold text-slate-800 mb-2">å¿«é€ŸæŸ¥æ‰¾è¯¥å®¢æˆ·æ‰€æœ‰è®¢å•</h3>
                    <p className="text-sm text-slate-600 mb-3">
                      åœ¨å¤„ç†å”®åæˆ–å’¨è¯¢æ—¶ï¼Œé€šè¿‡â€œæŸ¥çœ‹è¯¥å®¢æˆ·æ‰€æœ‰è®¢å•â€åŠŸèƒ½ï¼Œå¯ä»¥å¿«é€Ÿäº†è§£å®¢æˆ·çš„å†å²è´­ä¹°è®°å½•ï¼Œæœ‰åŠ©äºåˆ¤æ–­å®¢æˆ·ä»·å€¼å’Œå¤„ç†ç­–ç•¥ã€‚
                    </p>
                    <ImageToggler src="æŸ¥æ‰¾å®¢æˆ·è®¢å•.png" alt="æŸ¥æ‰¾å®¢æˆ·è®¢å•æ“ä½œç¤ºä¾‹" buttonText="æŸ¥çœ‹æŸ¥æ‰¾è®¢å•æ“ä½œç¤ºä¾‹" />
                  </div>
                </div>
              </div>

            </div>
          </Card>
        </div>
      );

      // --- Sub-Components for Different Tabs ---

      const Dashboard = () => (
        <div className="space-y-6">
          {/* Top Stats/Links Row - å“åº”å¼ï¼šåœ¨ md æ–­ç‚¹ä»¥ä¸‹åˆ‡æ¢ä¸ºå•åˆ— (grid-cols-1) */}
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
            <Card className="p-4 border-l-4 border-l-blue-500">
              <h3 className="text-sm font-semibold text-slate-500 mb-2 flex items-center">
                <ExternalLink size={16} className="mr-2" /> å¸¸ç”¨å·¥å…·
              </h3>
              <div className="space-y-2">
                <a href="https://www.erp321.com" target="_blank" rel="noreferrer" className="w-full text-left p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition flex justify-between items-center group shadow-sm border border-blue-100">
                  <span className="font-semibold text-blue-800">ERPåå°ç³»ç»Ÿ</span>
                  <ExternalLink size={16} className="text-blue-500 group-hover:translate-x-0.5 transition" />
                </a>
                <a href="https://fxg.jinritemai.com" target="_blank" rel="noreferrer" className="w-full text-left p-3 rounded-lg bg-purple-50 hover:bg-purple-100 transition flex justify-between items-center group shadow-sm border border-purple-100">
                  <span className="font-semibold text-purple-800">æŠ–åº—å•†å®¶åå°</span>
                  <ExternalLink size={16} className="text-purple-500 group-hover:translate-x-0.5 transition" />
                </a>
                <button
                  onClick={() => setActiveTab('calculator')}
                  className="w-full text-left p-3 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition flex justify-between items-center group shadow-sm border border-emerald-100"
                >
                  <span className="font-semibold text-emerald-800">å†³ç­–è®¡ç®—å™¨</span>
                  <ExternalLink size={16} className="text-emerald-500 group-hover:translate-x-0.5 transition" />
                </button>
                <button
                  onClick={() => setActiveTab('expressCompensation')}
                  className="w-full text-left p-3 rounded-lg bg-teal-50 hover:bg-teal-100 transition flex justify-between items-center group shadow-sm border border-teal-100"
                >
                  <span className="font-semibold text-teal-800">å¿«é€’èµ”å¿è®°å½•</span>
                  <ExternalLink size={16} className="text-teal-500 group-hover:translate-x-0.5 transition" />
                </button>
              </div>
            </Card>

            <Card className="p-4 border-l-4 border-l-emerald-500">
              <h3 className="text-sm font-semibold text-slate-500 mb-2 flex items-center">
                <Clock size={16} className="mr-2" /> ä»Šæ—¥å¿…åš (æ—¥å·¡)
              </h3>
              <div className="space-y-2">
                <div onClick={() => toggleCheck('scanReturn')} className="w-full cursor-pointer text-left p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition flex justify-between items-center group shadow-sm border border-blue-100">
                  <span className="font-semibold text-blue-800">æ‰«ç é€€è´§</span>
                  <input type="checkbox" checked={checklist.scanReturn} onClick={(e) => e.stopPropagation()} onChange={() => toggleCheck('scanReturn')} className="w-5 h-5 cursor-pointer" />
                </div>
                <div onClick={() => toggleCheck('checkWorkbench')} className="w-full cursor-pointer text-left p-3 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition flex justify-between items-center group shadow-sm border border-emerald-100">
                  <span className="font-semibold text-emerald-800">å”®åå·¥ä½œå°æ£€æŸ¥</span>
                  <input type="checkbox" checked={checklist.checkWorkbench} onClick={(e) => e.stopPropagation()} onChange={() => toggleCheck('checkWorkbench')} className="w-5 h-5 cursor-pointer" />
                </div>
                <div onClick={() => toggleCheck('customerGroup')} className="w-full cursor-pointer text-left p-3 rounded-lg bg-amber-50 hover:bg-amber-100 transition flex justify-between items-center group shadow-sm border border-amber-100">
                  <span className="font-semibold text-amber-800">å®¢æˆ·ç¾¤å¤„ç†</span>
                  <input type="checkbox" checked={checklist.customerGroup} onClick={(e) => e.stopPropagation()} onChange={() => toggleCheck('customerGroup')} className="w-5 h-5 cursor-pointer" />
                </div>
                <div onClick={() => toggleCheck('oversoldWarning')} className="w-full cursor-pointer text-left p-3 rounded-lg bg-purple-50 hover:bg-purple-100 transition flex justify-between items-center group shadow-sm border border-purple-100">
                  <span className="font-semibold text-purple-800">è¶…å–è®¢å•é¢„è­¦</span>
                  <input type="checkbox" checked={checklist.oversoldWarning} onClick={(e) => e.stopPropagation()} onChange={() => toggleCheck('oversoldWarning')} className="w-5 h-5 cursor-pointer" />
                </div>

              </div>
            </Card>

            {/* é£é™©é¢„è­¦ (æ›´æ–°åçš„æ ·å¼å’Œè·³è½¬é€»è¾‘) */}
            <Card className="p-4 border-l-4 border-l-amber-500">
              <h3 className="text-sm font-semibold text-slate-500 mb-2 flex items-center">
                <AlertTriangle size={16} className="mr-2 text-amber-500" /> é£é™©é¢„è­¦ (ç‚¹å‡»æŸ¥çœ‹æµç¨‹)
              </h3>
              <div className="space-y-2">

                {/* Item 1: Malicious Buyers -> Links to Notes/Manual */}
                <button
                  onClick={() => setActiveTab('blacklist')}
                  className="w-full text-left p-3 rounded-lg bg-red-50 hover:bg-red-100 transition flex justify-between items-center group shadow-sm border border-red-100"
                >
                  <div className="flex flex-col">
                    <span className="font-semibold text-red-800">ğŸ˜  æ¶æ„ä¹°å®¶</span>
                    <span className="text-xs text-red-600">æ ¸å®æ‹‰é»‘ / å‡çº§å¤„ç†</span>
                  </div>
                  <ExternalLink size={16} className="text-red-500 group-hover:translate-x-0.5 transition" />
                </button>

                {/* Item 2: Overdue After-sales -> Links to Notes/Manual */}
                <button
                  onClick={() => setActiveTab('overdue')}
                  className="w-full text-left p-3 rounded-lg bg-amber-50 hover:bg-amber-100 transition flex justify-between items-center group shadow-sm border border-amber-100"
                >
                  <div className="flex flex-col">
                    <span className="font-semibold text-amber-800">ğŸ“… è¶…æœŸå”®å (1ä¸ªæœˆ)</span>
                    <span className="text-xs text-amber-600">éœ€æä¾›ç­¾æ”¶æ—¶é—´è¯æ˜æˆªå›¾</span>
                  </div>
                  <ExternalLink size={16} className="text-amber-500 group-hover:translate-x-0.5 transition" />
                </button>

                {/* Item 3: Inconsistent Items (ç‰©å“ä¸ç¬¦) -> Links to Returns/Scanning Flow */}
                <button
                  onClick={() => setActiveTab('returns')}
                  className="w-full text-left p-3 rounded-lg bg-emerald-50 hover:bg-emerald-100 transition flex justify-between items-center group shadow-sm border border-emerald-100"
                >
                  <div className="flex flex-col">
                    <span className="font-semibold text-emerald-800">é€€è´§æ‰«ç æ³¨æ„</span>
                    <span className="text-xs text-emerald-600 font-bold">ğŸš¨ åŠ¡å¿…å½•åˆ¶è§†é¢‘ç•™è¯</span>
                  </div>
                  <ExternalLink size={16} className="text-emerald-500 group-hover:translate-x-0.5 transition" />
                </button>
              </div>
            </Card>
          </div>

          {/* Quick Actions Grid - 2è¡Œ3åˆ—å¸ƒå±€ */}
          <h2 className="text-lg font-bold text-slate-800 mt-6">å¿«é€Ÿå†³ç­–SOP</h2>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
            <button onClick={() => setActiveTab('refunds')} className="p-4 bg-white border border-blue-200 hover:border-blue-500 hover:shadow-md hover:bg-blue-50 rounded-lg flex flex-col items-center justify-center space-y-2 transition group">
              <div className="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 group-hover:scale-110 transition-transform">
                <Search size={20} />
              </div>
              <span className="font-bold text-blue-700 text-sm md:text-base">ä»…é€€æ¬¾ / æ‹¦æˆª</span>
            </button>
            <button onClick={() => setActiveTab('returns')} className="p-4 bg-white border hover:border-emerald-500 hover:shadow-md hover:bg-emerald-50 rounded-lg flex flex-col items-center justify-center space-y-2 transition">
              <div className="w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600">
                {/* è‡ªå®šä¹‰é€€è´§æ‰«ç å›¾æ ‡ - æ¨¡ä»¿æ‰«ææª/å‡ ä½•å›¾å½¢ */}
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                  <path d="M12 4L5 15H19L12 4Z" />
                  <path d="M12 15V18" />
                  <path d="M8.5 11H15.5" />
                </svg>
              </div>
              <span className="font-medium text-slate-700 text-sm md:text-base">é€€è´§æ‰«ç </span>
            </button>
            <button onClick={() => setActiveTab('replace')} className="p-4 bg-white border hover:border-indigo-500 hover:shadow-md hover:bg-indigo-50 rounded-lg flex flex-col items-center justify-center space-y-2 transition">
              <div className="w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600">
                {/* è‡ªå®šä¹‰è¡¥å‘/æ¢è´§å›¾æ ‡ - æ¨¡ä»¿å¾ªç¯ç®­å¤´ */}
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                  <path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" />
                  <path d="M3 3v5h5" />
                  <path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16" />
                  <path d="M16 21h5v-5" />
                </svg>
              </div>
              <span className="font-medium text-slate-700 text-sm md:text-base">è¡¥å‘ / æ¢è´§</span>
            </button>
            <button onClick={() => setActiveTab('overdue')} className="p-4 bg-white border hover:border-amber-500 hover:shadow-md hover:bg-amber-50 rounded-lg flex flex-col items-center justify-center space-y-2 transition">
              <div className="w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center text-amber-600">
                <Clock size={20} />
              </div>
              <span className="font-medium text-slate-700 text-sm md:text-base">è¶…æœŸå”®å</span>
            </button>
            <button onClick={() => setActiveTab('oversold')} className="p-4 bg-white border hover:border-red-500 hover:shadow-md hover:bg-red-50 rounded-lg flex flex-col items-center justify-center space-y-2 transition">
              <div className="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center text-red-600">
                <AlertTriangle size={20} />
              </div>
              <span className="font-medium text-slate-700 text-sm md:text-base">è¶…å–å¤„ç†</span>
            </button>
            <button onClick={() => setActiveTab('wrongShipment')} className="p-4 bg-white border hover:border-purple-500 hover:shadow-md hover:bg-purple-50 rounded-lg flex flex-col items-center justify-center space-y-2 transition">
              <div className="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-purple-600">
                <FileText size={20} />
              </div>
              <span className="font-medium text-slate-700 text-sm md:text-base">é”™å‘å¤„ç†</span>
            </button>
          </div>
        </div>
      );

      const ImageToggler = ({ src, alt, buttonText = "æŸ¥çœ‹ç¤ºä¾‹å›¾ç‰‡" }) => {
        const [isOpen, setIsOpen] = useState(false);
        return (
          <div className="mt-2">
            <button
              onClick={() => setIsOpen(!isOpen)}
              className="flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium transition focus:outline-none"
            >
              {isOpen ? <ChevronDown size={16} className="mr-1" /> : <ChevronRight size={16} className="mr-1" />}
              {buttonText}
            </button>
            {isOpen && (
              <div className="mt-2 transition-all duration-300 ease-in-out">
                <img src={src} alt={alt} className="w-full max-w-2xl rounded border border-slate-200 shadow-sm" />
              </div>
            )}
          </div>
        );
      };

      const RefundsModule = () => (
        <div className="max-w-5xl mx-auto space-y-6">
          <Card className="p-6">
            <h2 className="text-xl font-bold text-slate-800 mb-6 flex items-center">
              <Search size={20} className="mr-2 text-blue-600" /> ä»…é€€æ¬¾å¤„ç† SOP
            </h2>

            <div className="space-y-6">
              {/* æŠ–åº—å·¥ä½œå°å¤„ç†æµç¨‹ */}
              <div className="border-2 border-blue-200 rounded-lg p-5 bg-blue-50">
                <h3 className="text-lg font-bold text-blue-800 mb-4">
                  æŠ–åº—å·¥ä½œå°æ“ä½œ
                </h3>

                <div className="space-y-4">
                  {/* æ­¥éª¤1 */}
                  <div className="bg-white rounded-lg p-4 border border-blue-200">
                    <div className="flex items-start gap-3">
                      <div className="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold">1</div>
                      <div className="flex-1">
                        <h4 className="font-bold text-slate-800 mb-2">å¦‚åŒ…è£¹åœ¨é€”ï¼Œéœ€è¦æ‰‹åŠ¨å¤åˆ¶å¿«é€’å·ï¼Œå‘è‡³å¿«é€’ç¾¤å†…è¿›è¡Œæ‰‹åŠ¨æ‹¦æˆª</h4>
                        <p className="text-sm text-slate-600 mb-2">åé¦ˆæ‹¦æˆªæˆåŠŸåï¼ŒåŒæ„é€€æ¬¾å³å¯ã€‚</p>
                        <ImageToggler src="åŒæ„é€€æ¬¾ç¤ºä¾‹å›¾.png" alt="æ“ä½œè¦ç‚¹ç¤ºä¾‹" />
                      </div>
                    </div>
                  </div>

                  {/* æ­¥éª¤2 */}
                  <div className="bg-white rounded-lg p-4 border border-blue-200">
                    <div className="flex items-start gap-3">
                      <div className="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold">2</div>
                      <div className="flex-1">
                        <h4 className="font-bold text-slate-800 mb-2">å¦‚åŒ…è£¹æ˜¾ç¤ºå¾…å–ä»¶/æ´¾é€ä¸­</h4>
                        <p className="text-sm text-slate-600 mb-2">åˆ™éœ€è¦æ‰‹åŠ¨å¤åˆ¶å¿«é€’å·ï¼Œå‘è‡³å¿«é€’ç¾¤å†…è¿›è¡Œæ‰‹åŠ¨æ‹¦æˆªï¼Œ<span className="font-bold text-red-600">ç­‰å¾…ç¾¤å†…åé¦ˆæˆ–ç¡®è®¤å¿«é€’ä¿¡æ¯æ˜¾ç¤ºé€€è´§ä¸­æ—¶</span>ï¼Œå†å»åŒæ„é€€æ¬¾ã€‚ï¼ˆå¦åˆ™ä¼šæœ‰å»ä»¶å¯èƒ½ï¼‰</p>
                        <ImageToggler src="å¾…å–ä»¶ç¤ºä¾‹å›¾.png" alt="å¾…å–ä»¶çŠ¶æ€ç¤ºä¾‹" />
                      </div>
                    </div>
                  </div>

                  {/* æ­¥éª¤3 */}
                  <div className="bg-white rounded-lg p-4 border border-blue-200">
                    <div className="flex items-start gap-3">
                      <div className="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold">3</div>
                      <div className="flex-1">
                        <h4 className="font-bold text-slate-800 mb-3">å¦‚å·²ç»ç­¾æ”¶åä»…é€€æ¬¾ï¼Œæ£€æŸ¥èŠå¤©è®°å½•æ— å…¶ä»–é—®é¢˜çš„æƒ…å†µä¸‹ï¼Œæ‹’ç»ä»…é€€æ¬¾ï¼Œå‚è€ƒå¡«å†™å¦‚ä¸‹ï¼š</h4>

                        <div className="space-y-3">
                          <ImageToggler src="æ‹’ç»ä»…é€€æ¬¾ç¤ºä¾‹å›¾.png" alt="åå•†æ–‡æ¡ˆä¸æ“ä½œæ­¥éª¤ç¤ºä¾‹" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </Card>
        </div>
      );

      const ReturnsModule = () => (
        <div className="max-w-3xl mx-auto space-y-6">
          <Card className="p-6">
            <h2 className="text-xl font-bold text-slate-800 mb-4 flex items-center">
              <Package size={20} className="mr-2 text-emerald-600" /> é€€è´§æ‰«ç æ³¨æ„äº‹é¡¹
            </h2>

            <div className="bg-amber-50 border-l-4 border-amber-400 p-4 mb-6">
              <h3 className="font-bold text-amber-800 mb-2">âš ï¸ æ‰«ç å‰å¿…æŸ¥ (é¿å…æ— æ³•å½•å…¥)</h3>
              <ul className="list-disc list-inside text-sm text-amber-800 space-y-1">
                <li>è¾“å…¥æ³•å¿…é¡»åˆ‡æ¢è‡³ï¼š<span className="font-bold bg-white px-1 rounded">è‹±æ–‡æ¨¡å¼</span> (å¦åˆ™é¡ºä¸°å•å·ä¼šä¹±ç )</li>
                <li>ERPå…‰æ ‡ä½ç½®ï¼šå¿…é¡»ç‚¹å‡»<span className="font-bold bg-white px-1 rounded">å¿«é€’å•å·</span>è¾“å…¥æ¡†</li>
                <li>æ‰«ç å¯¹è±¡ï¼šåªæ‰«å¿«é€’å•å·ï¼Œä¸è¦æ‰«çº¿ä¸Šè®¢å•å·</li>
              </ul>
            </div>

            <div className="space-y-4">
              <div className="p-4 border rounded-lg hover:shadow-sm transition">
                <h3 className="font-bold text-slate-700">æ— ä¿¡æ¯ä»¶/æ— æ³•æ‰«æ</h3>
                <p className="text-sm text-slate-500 mt-1">ç³»ç»Ÿæç¤ºâ€œæ— æ­¤å•â€æˆ–æ‰«ä¸å‡ºæ¥æ—¶ï¼š</p>
                <div className="mt-2 text-sm bg-slate-100 p-3 rounded">
                  1. å°è¯•æ‰‹åŠ¨è¾“å…¥å•å·æŸ¥è¯¢ã€‚<br />
                  2. ä½¿ç”¨â€œæ— ä¿¡æ¯ä»¶ç»‘å®šè®¢å•â€åŠŸèƒ½ã€‚<br />
                  3. å¦‚ä»æ— æ³•è§£å†³ï¼Œè¿›è¡Œâ€œå”®åé—®é¢˜ç™»è®°â€ï¼ˆæ‹ç…§/ç•™æ¡£ï¼‰ã€‚
                </div>
              </div>
            </div>
          </Card>
        </div>
      );

      const ReplaceModule = () => (
        <div className="max-w-3xl mx-auto space-y-6">
          {/* å“åº”å¼ï¼šåœ¨ md æ–­ç‚¹ä»¥ä¸‹åˆ‡æ¢ä¸ºå•åˆ— (grid-cols-1) */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            {/* Online Flow */}
            <Card className="p-6 border-t-4 border-t-blue-500">
              <h3 className="text-lg font-bold text-blue-700 mb-4">çº¿ä¸Šå”®å (æŠ–åº—æ¥æº)</h3>
              <div className="text-sm text-slate-600 mb-4">
                æŒ‡é€šè¿‡æŠ–åº—å®˜æ–¹ç”³è¯·çš„å”®åå•ï¼Œå·²è‡ªåŠ¨åŒæ­¥è‡³ERPã€‚
              </div>
              <ol className="list-decimal list-inside space-y-3 text-sm text-slate-700">
                <li className="p-2 bg-slate-50 rounded">è¿›å…¥ ERP<span className="font-bold text-blue-600">ã€Œè®¢å•-å”®åï¼ˆæé€Ÿç‰ˆï¼‰ã€</span></li>
                <li className="p-2 bg-slate-50 rounded">é€šè¿‡<span className="font-bold text-blue-600">ã€Œå”®åå•å·ã€</span>æˆ–çº¿ä¸Šå•å·æœç´¢</li>
                <li className="p-2 bg-slate-50 rounded">å‹¾é€‰è®¢å•ï¼Œç‚¹å‡»<span className="font-bold text-blue-600">ã€Œç¡®è®¤ã€</span></li>
                <li className="p-2 bg-slate-50 rounded">ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆå‘è´§å•</li>
              </ol>
            </Card>

            {/* Offline Flow */}
            <Card className="p-6 border-t-4 border-t-orange-500">
              <h3 className="text-lg font-bold text-orange-700 mb-4">çº¿ä¸‹/æ‰‹å·¥å”®å</h3>
              <div className="text-sm text-slate-600 mb-4">
                æŒ‡é€šè¿‡å®¢æœç¾¤ç­”åº”å”®å,æˆ–é”™å‘ç­‰ç³»ç»Ÿæ— æ³•æ»¡è¶³çš„å”®åå•,éœ€è¦åœ¨ERPä¸­æ‰‹åŠ¨åˆ›å»ºã€‚
              </div>
              <ol className="list-decimal list-inside space-y-3 text-sm text-slate-700">
                <li className="p-2 bg-slate-50 rounded">ERP ç‚¹å‡»<span className="font-bold">ã€Œæ‰‹å·¥åˆ›å»ºå”®åå•ã€</span></li>
                <li className="p-2 bg-slate-50 rounded">è¾“å…¥<span className="font-bold">åŸçº¿ä¸Šè®¢å•å·</span>å…³è”ä¿¡æ¯</li>
                <li className="p-2 bg-slate-50 rounded">ç±»å‹é€‰æ‹©ï¼š<span className="font-bold">è¡¥å‘</span> æˆ– <span className="font-bold">æ¢è´§</span></li>
                <li className="p-2 bg-slate-50 rounded">æ·»åŠ å¯¹åº”å•†å“åŠæ•°é‡</li>
                <li className="p-2 bg-orange-50 rounded border border-orange-200">
                  <span className="text-orange-700 font-bold">å…³é”®ï¼š</span>åˆ›å»ºåéœ€å°†æ–°å¿«é€’å·æ‰‹åŠ¨å‘åˆ°å®¢æœç¾¤ï¼Œå®¢æˆ·åœ¨æŠ–åº—çœ‹ä¸åˆ°ã€‚
                </li>
              </ol>
            </Card>
          </div>


        </div>
      );

      const OverdueModule = () => (
        <div className="max-w-3xl mx-auto space-y-6">
          <Card className="p-6">
            <h2 className="text-xl font-bold text-slate-800 mb-6 flex items-center">
              <Clock size={20} className="mr-2 text-amber-600" /> è¶…æœŸå”®åå¤„ç†æµç¨‹
            </h2>

            <div className="space-y-6">
              {/* å®šä¹‰å¡ç‰‡ */}
              <div className="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg">
                <h3 className="font-bold text-amber-800 text-lg mb-2 flex items-center">
                  <AlertCircle size={18} className="mr-2" /> ä»€ä¹ˆæ˜¯è¶…æœŸå”®åï¼Ÿ
                </h3>
                <p className="text-amber-900 font-medium">
                  è®¢å•çŠ¶æ€æ˜¾ç¤ºâ€œå·²å®Œæˆâ€ä¸”æ—¶é—´è¶…è¿‡ <span className="text-red-600 font-bold text-lg mx-1">1ä¸ªæœˆ</span> çš„å”®åç”³è¯·ã€‚
                </p>
              </div>

              {/* æ ¸å¿ƒæ³¨æ„äº‹é¡¹ */}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div className="border border-slate-200 rounded-lg p-5 hover:shadow-md transition bg-white">
                  <div className="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center text-red-600 mb-3">
                    <AlertTriangle size={20} />
                  </div>
                  <h4 className="font-bold text-slate-800 mb-2">è§„é¿è¯„ä»·é£é™©</h4>
                  <p className="text-sm text-slate-600 leading-relaxed">
                    å¤„ç†è¶…æœŸå”®åæ—¶ï¼Œéœ€ç‰¹åˆ«æ³¨æ„å®¢æˆ·æƒ…ç»ªï¼Œ<span className="font-bold text-slate-800">å°½é‡é¿å…äº§ç”Ÿå·®è¯„æˆ–æŠ•è¯‰é£é™©</span>ã€‚å¦‚é‡éš¾ç¼ å®¢æˆ·ï¼Œè¯·<button onClick={() => setActiveTab('blacklist')} className="text-blue-600 hover:underline font-medium focus:outline-none">åŠæ—¶å‡çº§å¤„ç† &rarr;</button>ã€‚
                  </p>
                </div>

                <div className="border border-slate-200 rounded-lg p-5 hover:shadow-md transition bg-white">
                  <div className="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 mb-3">
                    <FileText size={20} />
                  </div>
                  <h4 className="font-bold text-slate-800 mb-2">æäº¤ç­¾æ”¶è¯æ˜</h4>
                  <p className="text-sm text-slate-600 leading-relaxed">
                    å¿…é¡»æä¾›<span className="font-bold text-slate-800">ç‰©æµç­¾æ”¶è¯æ˜æˆªå›¾</span>ã€‚è¯·åœ¨å¿«é€’å®˜ç½‘æˆ–ç¬¬ä¸‰æ–¹å¹³å°æŸ¥è¯¢å¹¶æˆªå›¾ä¿å­˜ï¼Œä½œä¸ºå‡­è¯ä¸Šä¼ ã€‚
                  </p>
                </div>
              </div>

              {/* æ“ä½œæç¤º */}
              <div className="bg-slate-50 rounded-lg p-4 border border-slate-200">
                <h4 className="font-bold text-slate-700 mb-3 flex items-center">
                  <CheckSquare size={16} className="mr-2" /> å¤„ç†æ­¥éª¤ç®€è¿°
                </h4>
                <ol className="list-decimal list-inside space-y-2 text-sm text-slate-600">
                  <li>æ ¸å®è®¢å•å®Œæˆæ—¶é—´æ˜¯å¦è¶…è¿‡1ä¸ªæœˆã€‚</li>
                  <li>æŸ¥è¯¢å¹¶æˆªå›¾ç‰©æµç­¾æ”¶ä¿¡æ¯ã€‚</li>
                  <li>ä¸å®¢æˆ·æ²Ÿé€šï¼Œç¡®è®¤å”®åè¯‰æ±‚ï¼Œè¯„ä¼°é£é™©ã€‚</li>
                  <li>æŒ‰æµç¨‹æäº¤å”®åç”³è¯·ï¼Œå¹¶é™„ä¸Šç­¾æ”¶è¯æ˜ã€‚</li>
                </ol>
              </div>
            </div>
          </Card>
        </div>
      );

      const OversoldModule = () => {
        // State for the decision tree
        // currentStep: current step ID
        // history: array of previous steps with selections for display
        const [currentStep, setCurrentStep] = useState('start');
        const [history, setHistory] = useState([]);

        // Decision Tree Data for Oversold handling
        const decisionTree = {
          start: {
            question: "ä¸Šè´§çŠ¶æ€",
            options: [
              { label: "å¯ä»¥ç»§ç»­ä¸Šè´§", next: "stock_status" },
              { label: "ä¸å¯ä»¥ç»§ç»­ä¸Šè´§", next: "no_stock_status" },
            ]
          },
          stock_status: {
            question: "è®¢å•å•†å“æ•°é‡",
            options: [
              { label: "å¤šä¸ªå•†å“", next: "result_a1" },
              { label: "å•ä¸ªå•†å“", next: "result_a2" },
            ]
          },
          no_stock_status: {
            question: "è®¢å•å•†å“æ•°é‡",
            options: [
              { label: "å¤šä¸ªå•†å“", next: "result_b1" },
              { label: "å•ä¸ªå•†å“", next: "result_b2" },
            ]
          },
          result_a1: {
            type: 'result',
            title: "å¯ä»¥ä¸Šè´§ + å¤šä¸ªå•†å“",
            content: "å°†è®¢å•ä¸­å…¶ä»–æœ‰è´§å•†å“æ­£å¸¸æ‰“åŒ…å‘è´§ã€‚\n\nç”µè”å®¢æˆ·ï¼šæ²Ÿé€šä¿®æ”¹ç¼ºè´§å•†å“çš„å‘è´§æ—¶é—´ã€‚\n\nè‹¥å®åœ¨æ— æ³•è”ç³»ï¼šå…ˆç­‰å¾…å®¢æˆ·åé¦ˆã€‚\n\nåç»­å¤„ç†ï¼šæ ¹æ®æƒ…å†µå®‰æ’è¡¥å‘æˆ–é€€æ¬¾ã€‚\n\næ³¨æ„ï¼šéœ€æ‰‹åŠ¨é¢‘ç¹æ£€æŸ¥è®¢å•çŠ¶æ€ï¼Œé¿å…æŸå¤±ã€‚",
            color: "blue"
          },
          result_a2: {
            type: 'result',
            title: "å¯ä»¥ä¸Šè´§ + å•ä¸ªå•†å“",
            content: "ç”µè”å®¢æˆ·ï¼šæ²Ÿé€šä¿®æ”¹å‘è´§æ—¶é—´ã€‚\n\nè‹¥å®åœ¨æ— æ³•è”ç³»ï¼šåœ¨ç³»ç»Ÿä¸­ç‚¹å‡»æå‰æ½æ”¶ï¼ˆé˜²æ­¢è¶…æ—¶ï¼‰ã€‚\n\nç­‰å¾…å®¢æˆ·åé¦ˆåï¼Œå†æ¬¡ç”µè”å®¢æˆ·ç¡®è®¤ä¿®æ”¹æ—¶é—´ã€‚\n\nå‘è´§æ“ä½œï¼šä½¿ç”¨åŸå¿«é€’å•å·ç»§ç»­å‘è´§å³å¯ã€‚\n\næ³¨æ„ï¼šå› å·²ç‚¹å‡»æ½æ”¶ï¼Œè‹¥å®¢æˆ·ä¸­é€”ç”³è¯·é€€è´§ï¼Œéœ€åŠæ—¶è”ç³»å¿«é€’æ‹¦æˆªåŒ…è£¹ã€‚",
            color: "blue"
          },
          result_b1: {
            type: 'result',
            title: "ä¸å¯ä¸Šè´§ + å¤šä¸ªå•†å“",
            content: "å°†è®¢å•ä¸­å…¶ä»–æœ‰è´§å•†å“æ­£å¸¸æ‰“åŒ…å‘è´§ã€‚\n\nä¸èƒ½å‘è´§çš„ç‰©å“ï¼šç”µè”å®¢æˆ·æ²Ÿé€šé€€æ¬¾ã€‚\n\nè‹¥å®åœ¨æ— æ³•è”ç³»ï¼šå…ˆç­‰å¾…å®¢æˆ·åé¦ˆã€‚\n\nç³»ç»Ÿæ“ä½œï¼šéœ€åœ¨è®¢å•ç•™è¨€ï¼Œæˆ–å¸®å®¢æˆ·ä»£ç”³è¯·\"ä»…é€€æ¬¾\"ã€‚",
            color: "red"
          },
          result_b2: {
            type: 'result',
            title: "ä¸å¯ä¸Šè´§ + å•ä¸ªå•†å“",
            content: "ç”µè”å®¢æˆ·ï¼šæ²Ÿé€šç›´æ¥é€€æ¬¾ã€‚\n\nè‹¥å®åœ¨æ— æ³•è”ç³»ï¼šåœ¨ç³»ç»Ÿä¸­ç‚¹å‡»æå‰æ½æ”¶ï¼ˆé˜²æ­¢è¶…æ—¶ï¼‰ã€‚\n\nç»§ç»­è”ç»œï¼šä½¿ç”¨\"åŒ…è£¹ä¸¢å¤±\"è¯æœ¯å®‰æŠšå®¢æˆ·ã€‚\n\næœ€ç»ˆå¤„ç†ï¼šæ˜ç¡®æ— æ³•è¡¥å‘ï¼Œå¸®å®¢æˆ·ä»£ç”³è¯·\"ä»…é€€æ¬¾\"ã€‚",
            color: "red"
          },
        };

        const currentStepData = decisionTree[currentStep];
        const isResult = currentStepData && currentStepData.type === 'result';

        const handleOptionSelect = (option) => {
          // Store current state in closure to avoid stale state issues
          const currentState = {
            step: currentStep,
            stepData: currentStepData,
            selectedOption: option.label,
            nextStep: option.next
          };

          // First update history
          setHistory(prev => [
            ...prev,
            {
              stepId: currentState.step,
              step: currentState.stepData,
              selectedOption: currentState.selectedOption
            }
          ]);

          // Then update current step using the captured next step
          setCurrentStep(currentState.nextStep);
        };

        const reset = () => {
          setCurrentStep('start');
          setHistory([]);
        };

        return (
          <div className="max-w-4xl mx-auto space-y-6">
            <Card className="p-6">
              <h2 className="text-xl font-bold text-slate-800 mb-6 flex items-center">
                <AlertTriangle size={20} className="mr-2 text-rose-600" /> è¶…å–å¤„ç†æµç¨‹
              </h2>

              {/* å‰ç½®æç¤º */}
              <div className="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-lg mb-6">
                <div className="flex items-center">
                  <AlertTriangle size={18} className="mr-2 text-amber-600" />
                  <span className="text-amber-800 font-bold">æ³¨æ„ï¼š</span>
                </div>
                <p className="text-amber-900 font-medium mt-1">
                  å‡ºç°ç¼ºè´§/è¶…å–æ—¶ï¼Œè¯·ä¼˜å…ˆæ³¨æ„è°ƒæ•´åº“å­˜ã€‚
                </p>
              </div>

              {/* å†³ç­–æ ‘åŒºåŸŸ */}
              <div className="space-y-4">
                <div className="flex items-center justify-between">
                  <h3 className="text-lg font-bold text-slate-800 flex items-center">
                    <FileText size={18} className="mr-2 text-rose-600" /> è¶…å–å¤„ç†å†³ç­–æ ‘
                  </h3>
                  {history.length > 0 && (
                    <button onClick={reset} className="text-sm text-slate-500 hover:text-rose-600 flex items-center transition">
                      <RefreshCw size={14} className="mr-1" /> é‡ç½®
                    </button>
                  )}
                </div>

                {/* Display selection history */}
                {history.map((stepInfo, index) => (
                  <div key={index} className="border-l-4 border-rose-200 pl-4 py-2">
                    <div className="text-sm text-slate-500 mb-1">æ­¥éª¤ {index + 1}</div>
                    <div className="bg-slate-50 rounded-lg p-4">
                      <div className="font-medium text-slate-800 mb-2">{stepInfo.step.question}</div>
                      <div className="text-rose-600 font-medium">
                        <ChevronRight size={14} className="inline mr-1" />
                        é€‰æ‹©ï¼š{stepInfo.selectedOption}
                      </div>
                    </div>
                  </div>
                ))}

                {/* Display current question or result */}
                {currentStepData && (
                  <div className="border-l-4 border-rose-400 pl-4 py-2">
                    <div className="text-sm text-rose-600 mb-1">
                      {history.length === 0 ? 'æ­¥éª¤ 1' : `æ­¥éª¤ ${history.length + 1}`}
                    </div>
                    <div className="bg-rose-50 rounded-lg p-6">
                      {!isResult ? (
                        <>
                          <h3 className="text-lg font-bold text-rose-800 mb-4">
                            {currentStepData.question}
                          </h3>
                          <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                            {currentStepData.options.map((opt, idx) => (
                              <button
                                key={idx}
                                onClick={() => handleOptionSelect(opt)}
                                className="p-3 bg-white border-2 border-rose-100 hover:border-rose-400 hover:bg-rose-50 rounded-lg transition-all duration-200 text-left group shadow-sm"
                              >
                                <span className="font-medium text-slate-700 group-hover:text-rose-700 block">
                                  {opt.label}
                                </span>
                              </button>
                            ))}
                          </div>
                        </>
                      ) : (
                        <div className="text-center space-y-4">
                          <div className={`w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4 ${currentStepData.color === 'red' ? 'bg-red-100 text-red-600' :
                            currentStepData.color === 'blue' ? 'bg-blue-100 text-blue-600' :
                              currentStepData.color === 'purple' ? 'bg-purple-100 text-purple-600' :
                                'bg-orange-100 text-orange-600'
                            }`}>
                            <CheckSquare size={32} />
                          </div>

                          <h3 className={`text-2xl font-bold ${currentStepData.color === 'red' ? 'text-red-700' :
                            currentStepData.color === 'blue' ? 'text-blue-700' :
                              currentStepData.color === 'purple' ? 'text-purple-700' :
                                'text-orange-700'
                            }`}>
                            {currentStepData.title}
                          </h3>

                          <div className="text-slate-600 text-lg whitespace-pre-line leading-relaxed bg-white p-4 rounded-lg border border-slate-200 inline-block text-left min-w-[300px]">
                            {currentStepData.content}
                          </div>

                          <div className="pt-6">
                            <button
                              onClick={reset}
                              className="px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition shadow-lg"
                            >
                              é‡æ–°å¼€å§‹
                            </button>
                          </div>
                        </div>
                      )}
                    </div>
                  </div>
                )}
              </div>
            </Card>
          </div>
        );
      };

      const WrongShipmentModule = () => {
        // State for the decision tree
        // currentStep: current step ID
        // history: array of previous steps with selections for display
        const [currentStep, setCurrentStep] = useState('start');
        const [history, setHistory] = useState([]);

        // Decision Tree Data (keeping the same structure)
        const decisionTree = {
          start: {
            question: "è¯·é€‰æ‹©å”®åç±»å‹",
            options: [
              { label: "å°‘å‘ / æ¼å‘", next: "short_shipment" },
              { label: "é”™å‘", next: "wrong_item" },
            ]
          },
          short_shipment: {
            question: "ä»“åº“æ˜¯å¦æœ‰è´§ï¼Ÿ",
            options: [
              { label: "æœ‰è´§", next: "result_resend" },
              { label: "æ— è´§", next: "result_refund_only" },
            ]
          },
          wrong_item: {
            question: "æ­£ç¡®åº”å‘çš„å•†å“æ˜¯å¦æœ‰è´§ï¼Ÿ",
            options: [
              { label: "åº”å‘å•†å“ - æœ‰è´§", next: "correct_in_stock" },
              { label: "åº”å‘å•†å“ - æ— è´§", next: "correct_out_stock" },
            ]
          },
          correct_in_stock: {
            question: "å®¢æˆ·éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ",
            options: [
              { label: "è¦é”™å‘å•†å“ + è¦æ­£ç¡®å•†å“", next: "result_keep_both" },
              { label: "è¦é”™å‘å•†å“ + ä¸è¦æ­£ç¡®å•†å“", next: "result_keep_wrong" },
              { label: "ä¸è¦é”™å‘å•†å“ + è¦æ­£ç¡®å•†å“", next: "result_return_resend" },
              { label: "ä¸è¦é”™å‘å•†å“ + ä¸è¦æ­£ç¡®å•†å“", next: "result_return_refund" },
            ]
          },
          correct_out_stock: {
            question: "å®¢æˆ·æ˜¯å¦æ¥å—ä¿ç•™é”™å‘å•†å“ï¼Ÿ",
            options: [
              { label: "éœ€è¦é”™å‘å•†å“", next: "result_keep_wrong_out" },
              { label: "ä¸éœ€è¦é”™å‘å•†å“", next: "result_return_refund_out" },
            ]
          },
          result_resend: { type: 'result', title: "è¡¥å‘", content: "å®‰æ’ä»“åº“è¡¥å‘æ¼å‘å•†å“ã€‚", color: "blue" },
          result_refund_only: { type: 'result', title: "ä»…é€€æ¬¾", content: "ä¸å®¢æˆ·åå•†è¿›è¡Œä»…é€€æ¬¾å¤„ç†ã€‚", color: "red" },
          result_keep_both: { type: 'result', title: "é”™è¯¯å•†å“å‡5å…ƒæˆäº¤ + å®¢æˆ·é‡æ–°ä¸‹å•", content: "1. é”™è¯¯å•†å“æŒ‰å‡5å…ƒä»·æ ¼æˆäº¤ã€‚\n2. å¼•å¯¼å®¢æˆ·å¯¹æ­£ç¡®å•†å“é‡æ–°ä¸‹å•ã€‚", color: "blue" },
          result_keep_wrong: { type: 'result', title: "é”™è¯¯å•†å“å‡5å…ƒæˆäº¤", content: "é”™è¯¯å•†å“æŒ‰å‡5å…ƒä»·æ ¼æˆäº¤ï¼Œæ— éœ€é€€å›ã€‚", color: "blue" },
          result_return_resend: { type: 'result', title: "é”™è¯¯å•†å“é€€å›(è¿è´¹æˆ‘å‡º) + å®¢æˆ·é‡æ–°ä¸‹å•", content: "1. å¼•å¯¼å®¢æˆ·é€€å›é”™è¯¯å•†å“ï¼Œè¿è´¹ç”±æˆ‘æ–¹æ‰¿æ‹…ã€‚\n2. å¼•å¯¼å®¢æˆ·å¯¹æ­£ç¡®å•†å“é‡æ–°ä¸‹å•ã€‚", color: "purple" },
          result_return_refund: { type: 'result', title: "å¸®å®¢æˆ·ç”³è¯·é€€è´§é€€æ¬¾ (è¿è´¹æˆ‘å‡º)", content: "å¼•å¯¼å®¢æˆ·ç”³è¯·é€€è´§é€€æ¬¾ï¼Œè¿è´¹ç”±æˆ‘æ–¹æ‰¿æ‹…ã€‚", color: "orange" },
          result_keep_wrong_out: { type: 'result', title: "é”™è¯¯å•†å“å‡5å…ƒæˆäº¤", content: "é”™è¯¯å•†å“æŒ‰å‡5å…ƒä»·æ ¼æˆäº¤ã€‚", color: "blue" },
          result_return_refund_out: { type: 'result', title: "å¸®å®¢æˆ·ç”³è¯·é€€è´§é€€æ¬¾ (è¿è´¹æˆ‘å‡º)", content: "å¼•å¯¼å®¢æˆ·ç”³è¯·é€€è´§é€€æ¬¾ï¼Œè¿è´¹ç”±æˆ‘æ–¹æ‰¿æ‹…ã€‚", color: "orange" },
        };

        const currentStepData = decisionTree[currentStep];
        const isResult = currentStepData && currentStepData.type === 'result';

        const handleOptionSelect = (option) => {
          // Store current state in closure to avoid stale state issues
          const currentState = {
            step: currentStep,
            stepData: currentStepData,
            selectedOption: option.label,
            nextStep: option.next
          };

          // First update history
          setHistory(prev => [
            ...prev,
            {
              stepId: currentState.step,
              step: currentState.stepData,
              selectedOption: currentState.selectedOption
            }
          ]);

          // Then update current step using the captured next step
          setCurrentStep(currentState.nextStep);
        };

        const reset = () => {
          setCurrentStep('start');
          setHistory([]);
        };

        return (
          <div className="max-w-3xl mx-auto space-y-6">
            <Card className="p-6">
              <h2 className="text-xl font-bold text-slate-800 mb-6 flex items-center justify-between">
                <div className="flex items-center">
                  <FileText size={20} className="mr-2 text-indigo-600" /> é”™å‘å¤„ç†å†³ç­–æ ‘
                </div>
                {history.length > 0 && (
                  <button onClick={reset} className="text-sm text-slate-500 hover:text-indigo-600 flex items-center transition">
                    <RefreshCw size={14} className="mr-1" /> é‡ç½®
                  </button>
                )}
              </h2>

              <div className="space-y-4">
                {/* Display selection history */}
                {history.map((stepInfo, index) => (
                  <div key={index} className="border-l-4 border-indigo-200 pl-4 py-2">
                    <div className="text-sm text-slate-500 mb-1">æ­¥éª¤ {index + 1}</div>
                    <div className="bg-slate-50 rounded-lg p-4">
                      <div className="font-medium text-slate-800 mb-2">{stepInfo.step.question}</div>
                      <div className="text-indigo-600 font-medium">
                        <ChevronRight size={14} className="inline mr-1" />
                        é€‰æ‹©ï¼š{stepInfo.selectedOption}
                      </div>
                    </div>
                  </div>
                ))}

                {/* Display current question or result */}
                {currentStepData && (
                  <div className="border-l-4 border-indigo-400 pl-4 py-2">
                    <div className="text-sm text-indigo-600 mb-1">
                      {history.length === 0 ? 'æ­¥éª¤ 1' : `æ­¥éª¤ ${history.length + 1}`}
                    </div>
                    <div className="bg-indigo-50 rounded-lg p-6">
                      {!isResult ? (
                        <>
                          <h3 className="text-lg font-bold text-indigo-800 mb-4">
                            {currentStepData.question}
                          </h3>
                          <div className="grid grid-cols-1 md:grid-cols-2 gap-3">
                            {currentStepData.options.map((opt, idx) => (
                              <button
                                key={idx}
                                onClick={() => handleOptionSelect(opt)}
                                className="p-3 bg-white border-2 border-indigo-100 hover:border-indigo-400 hover:bg-indigo-50 rounded-lg transition-all duration-200 text-left group shadow-sm"
                              >
                                <span className="font-medium text-slate-700 group-hover:text-indigo-700 block">
                                  {opt.label}
                                </span>
                              </button>
                            ))}
                          </div>
                        </>
                      ) : (
                        <div className="text-center space-y-4">
                          <div className={`w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4 ${currentStepData.color === 'red' ? 'bg-red-100 text-red-600' :
                            currentStepData.color === 'blue' ? 'bg-blue-100 text-blue-600' :
                              currentStepData.color === 'purple' ? 'bg-purple-100 text-purple-600' :
                                'bg-orange-100 text-orange-600'
                            }`}>
                            <CheckSquare size={32} />
                          </div>

                          <h3 className={`text-2xl font-bold ${currentStepData.color === 'red' ? 'text-red-700' :
                            currentStepData.color === 'blue' ? 'text-blue-700' :
                              currentStepData.color === 'purple' ? 'text-purple-700' :
                                'text-orange-700'
                            }`}>
                            {currentStepData.title}
                          </h3>

                          <div className="text-slate-600 text-lg whitespace-pre-line leading-relaxed bg-white p-4 rounded-lg border border-slate-200 inline-block text-left min-w-[300px]">
                            {currentStepData.content}
                          </div>

                          <div className="pt-6">
                            <button
                              onClick={reset}
                              className="px-6 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition shadow-lg"
                            >
                              é‡æ–°å¼€å§‹
                            </button>
                          </div>
                        </div>
                      )}
                    </div>
                  </div>
                )}
              </div>
            </Card>
          </div>
        );
      };

      // --- Express Compensation Module ---
      // Supabase é…ç½®æ–‡ä»¶
      const SUPABASE_URL = 'https://zxsjvainccqwrmndilhr.supabase.co';
      const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp4c2p2YWluY2Nxd3JtbmRpbGhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1MjQ1MDksImV4cCI6MjA4MDEwMDUwOX0.f33OG29IJ-QEhtCqwK8Rvd3jhF1rqA64sACTf28jDpk';

      const ExpressCompensationModule = () => {
        const [records, setRecords] = useState([]);
        const [loading, setLoading] = useState(false);
        const [error, setError] = useState('');
        const [databaseStatus, setDatabaseStatus] = useState('checking'); // 'checking', 'ready', 'missing'

        // Form states
        const [showForm, setShowForm] = useState(false);
        const [formData, setFormData] = useState({
          trackingNumber: '',
          amount: '',
          type: 'compensation',
          isPaid: false,
          note: ''
        });

        // Search states
        const [searchTerm, setSearchTerm] = useState('');

        // åŒ—äº¬æ—¶é—´å·¥å…·å‡½æ•°
        const getBeijingDate = () => {
          // è·å–åŒ—äº¬æ—¶é—´ (UTC+8)
          const now = new Date();
          const beijingTime = new Date(now.getTime() + 8 * 60 * 60 * 1000);
          return beijingTime.toISOString().split('T')[0]; // YYYY-MM-DD
        };

        const getBeijingMonth = () => {
          // è·å–åŒ—äº¬æ—¶é—´çš„å¹´æœˆ (YYYY-MM)
          const now = new Date();
          const beijingTime = new Date(now.getTime() + 8 * 60 * 60 * 1000);
          return beijingTime.toISOString().slice(0, 7);
        };

        const [selectedMonth, setSelectedMonth] = useState(getBeijingMonth());

        // Supabase helper functions
        const supabaseRequest = async (method, table, data = null, id = null, query = '') => {
          let url = `${SUPABASE_URL}/rest/v1/${table}`;

          // æ·»åŠ æŸ¥è¯¢æ¡ä»¶
          if (query) {
            url += `?${query}`;
          } else if (id) {
            url += `?id=eq.${id}`;
          }

          const options = {
            method,
            headers: {
              'apikey': SUPABASE_ANON_KEY,
              'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,
              'Content-Type': 'application/json',
              'Prefer': method === 'GET' ? '' : 'return=representation'
            }
          };

          if (data && (method === 'POST' || method === 'PATCH')) {
            options.body = JSON.stringify(data);
          }

          const response = await fetch(url, options);

          if (!response.ok) {
            const errorData = await response.json().catch(() => ({}));
            throw new Error(errorData.message || `HTTP error! status: ${response.status}`);
          }

          return response.json();
        };

        useEffect(() => {
          checkDatabaseConnection();

          // å®šæ—¶è½®è¯¢ï¼Œæ¯30ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡
          const interval = setInterval(() => {
            fetchRecords();
          }, 30000);

          return () => clearInterval(interval);
        }, []);

        // æ£€æŸ¥æ•°æ®åº“è¿æ¥çŠ¶æ€
        const checkDatabaseConnection = async () => {
          setDatabaseStatus('checking');
          setError('');
          try {
            // å°è¯•è·å–ä¸€æ¡è®°å½•æ¥æµ‹è¯•è¿æ¥
            const data = await supabaseRequest('GET', 'express_compensation_records?limit=1');
            setDatabaseStatus('ready');
            fetchRecords(); // å¦‚æœè¿æ¥æˆåŠŸï¼Œè·å–æ‰€æœ‰è®°å½•
          } catch (err) {
            if (err.message.includes('PGRST205') || err.message.includes('Could not find')) {
              setDatabaseStatus('missing');
              setError('æ•°æ®åº“è¡¨ä¸å­˜åœ¨ã€‚è¯·å…ˆè¿è¡Œ supabase_init.js è„šæœ¬åˆå§‹åŒ–æ•°æ®åº“ã€‚');
            } else {
              setDatabaseStatus('missing');
              setError(`æ•°æ®åº“è¿æ¥å¤±è´¥: ${err.message}`);
            }
          }
        };

        // ä¸€é”®åˆå§‹åŒ–æ•°æ®åº“
        const quickInitDatabase = async () => {
          setError('');
          try {
            // å°è¯•æ’å…¥ä¸€æ¡æµ‹è¯•è®°å½•æ¥è§¦å‘è¡¨åˆ›å»º
            // è·å–åŒ—äº¬æ—¶é—´ (UTC+8)
            const now = new Date();
            const beijingTime = new Date(now.getTime() + 8 * 60 * 60 * 1000);

            const testRecord = {
              tracking_number: 'INIT_TEST_' + Date.now(),
              amount: 0.01,
              record_type: 'compensation',
              is_paid: false,
              record_date: beijingTime.toISOString().split('T')[0],
              note: 'åˆå§‹åŒ–æµ‹è¯•è®°å½•'
            };

            await supabaseRequest('POST', 'express_compensation_records', testRecord);

            // åˆ é™¤æµ‹è¯•è®°å½•
            await supabaseRequest('DELETE', 'express_compensation_records', null, null, 'tracking_number=eq.' + testRecord.tracking_number);

            // é‡æ–°æ£€æŸ¥æ•°æ®åº“çŠ¶æ€
            await checkDatabaseConnection();

          } catch (err) {
            if (err.message.includes('PGRST205') || err.message.includes('Could not find')) {
              setError('è‡ªåŠ¨åˆå§‹åŒ–å¤±è´¥ã€‚è¯·æ‰‹åŠ¨åœ¨Supabase SQL Editorä¸­æ‰§è¡Œ supabase_schema.sql æ–‡ä»¶å†…å®¹ã€‚');
            } else {
              setError(`åˆå§‹åŒ–å¤±è´¥: ${err.message}`);
            }
          }
        };

        // Supabase API functions
        const fetchRecords = async () => {
          setLoading(true);
          setError('');
          try {
            const data = await supabaseRequest('GET', 'express_compensation_records', null, null, 'order=created_at.desc');

            // è½¬æ¢æ•°æ®æ ¼å¼ä»¥åŒ¹é…ç°æœ‰çš„å‰ç«¯é€»è¾‘
            const parsedRecords = data.map(record => ({
              id: record.id,
              trackingNumber: record.tracking_number,
              amount: parseFloat(record.amount),
              type: record.record_type,
              isPaid: record.is_paid,
              date: record.record_date,
              note: record.note
            }));

            setRecords(parsedRecords);
          } catch (err) {
            setError(err.message);
          } finally {
            setLoading(false);
          }
        };

        const createRecord = async () => {
          const amount = formData.type === 'advance' ? -3 : parseFloat(formData.amount);

          // è·å–åŒ—äº¬æ—¶é—´ (UTC+8)
          const now = new Date();
          const beijingTime = new Date(now.getTime() + 8 * 60 * 60 * 1000);

          const recordData = {
            tracking_number: formData.trackingNumber,
            amount: amount,
            record_type: formData.type,
            is_paid: formData.isPaid,
            record_date: beijingTime.toISOString().split('T')[0],
            note: formData.note || null
          };

          try {
            const newRecord = await supabaseRequest('POST', 'express_compensation_records', recordData);

            const formattedRecord = {
              id: newRecord[0].id,
              trackingNumber: newRecord[0].tracking_number,
              amount: parseFloat(newRecord[0].amount),
              type: newRecord[0].record_type,
              isPaid: newRecord[0].is_paid,
              date: newRecord[0].record_date,
              note: newRecord[0].note
            };

            setShowForm(false);
            setFormData({ trackingNumber: '', amount: '', type: 'compensation', isPaid: false, note: '' });

            // ä¹è§‚æ›´æ–°ï¼šç›´æ¥æ’å…¥æ–°è®°å½•åˆ°å‰ç«¯åˆ—è¡¨
            setRecords(prev => [formattedRecord, ...prev]);

          } catch (err) {
            setError(err.message);
          }
        };

        const updateRecordStatus = async (recordId, isPaid) => {
          const recordData = {
            is_paid: isPaid
          };

          try {
            await supabaseRequest('PATCH', 'express_compensation_records', recordData, recordId);

            // ä¹è§‚æ›´æ–°ï¼šç›´æ¥æ›´æ–°æœ¬åœ°çŠ¶æ€
            setRecords(prev => prev.map(r => r.id === recordId ? { ...r, isPaid } : r));

          } catch (err) {
            setError(err.message);
          }
        };

        const deleteRecord = async (recordId) => {
          if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ')) return;

          try {
            await supabaseRequest('DELETE', 'express_compensation_records', null, recordId);

            // ä¹è§‚æ›´æ–°ï¼šç›´æ¥ä»æœ¬åœ°ç§»é™¤
            setRecords(prev => prev.filter(r => r.id !== recordId));

          } catch (err) {
            setError(err.message);
          }
        };

        // Filtering and statistics
        const filteredRecords = records.filter(record => {
          // Search filter
          if (searchTerm && !record.trackingNumber.toLowerCase().includes(searchTerm.toLowerCase())) {
            return false;
          }

          // Month filter
          if (selectedMonth && !record.date.startsWith(selectedMonth)) {
            return false;
          }

          return true;
        });

        // Statistics
        // è·å–åŒ—äº¬æ—¶é—´çš„å¹´æœˆ
        const now = new Date();
        const beijingTime = new Date(now.getTime() + 8 * 60 * 60 * 1000);
        const currentMonth = beijingTime.toISOString().slice(0, 7);
        const currentMonthRecords = records.filter(r => r.date.startsWith(currentMonth));
        const unpaidTotal = currentMonthRecords
          .filter(r => !r.isPaid)
          .reduce((sum, r) => sum + r.amount, 0);
        const unpaidCompensation = currentMonthRecords
          .filter(r => !r.isPaid && r.type === 'compensation')
          .reduce((sum, r) => sum + r.amount, 0);
        const unpaidAdvance = Math.abs(currentMonthRecords
          .filter(r => !r.isPaid && r.type === 'advance')
          .reduce((sum, r) => sum + r.amount, 0));

        // Export function
        const exportToCSV = () => {
          const csvData = filteredRecords.map(r =>
            `${r.date},${r.trackingNumber},${r.type === 'compensation' ? 'å¿«é€’èµ”æˆ‘' : 'æå‰æ½æ”¶'},${r.amount},${r.isPaid ? 'å·²æ”¯ä»˜' : 'æœªæ”¯ä»˜'},${r.note || ''}`
          ).join('\n');

          const csv = '\uFEFFæ—¥æœŸ,å¿«é€’å•å·,ç±»å‹,é‡‘é¢,çŠ¶æ€,å¤‡æ³¨\n' + csvData;
          const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
          const link = document.createElement('a');
          link.href = URL.createObjectURL(blob);

          // è·å–åŒ—äº¬æ—¶é—´çš„æ—¥æœŸç”¨äºæ–‡ä»¶å
          const now = new Date();
          const beijingTime = new Date(now.getTime() + 8 * 60 * 60 * 1000);
          link.download = `å¿«é€’èµ”å¿è®°å½•_${beijingTime.toISOString().slice(0, 10)}.csv`;
          link.click();
        };

        // Configuration UI - æ˜¾ç¤ºæ•°æ®åº“çŠ¶æ€
        if (databaseStatus === 'checking') {
          return (
            <div className="max-w-2xl mx-auto space-y-6">
              <Card className="p-6">
                <h2 className="text-xl font-bold text-slate-800 mb-6 flex items-center">
                  <Truck size={20} className="mr-2 text-teal-600" /> å¿«é€’èµ”å¿è´¦æœ¬
                </h2>
                <div className="text-center py-8">
                  <div className="animate-spin w-6 h-6 border-2 border-teal-600 border-t-transparent rounded-full mx-auto mb-4"></div>
                  <p className="text-slate-600">æ­£åœ¨æ£€æŸ¥æ•°æ®åº“è¿æ¥...</p>
                </div>
              </Card>
            </div>
          );
        }

        if (databaseStatus === 'missing') {
          return (
            <div className="max-w-2xl mx-auto space-y-6">
              <Card className="p-6">
                <h2 className="text-xl font-bold text-slate-800 mb-6 flex items-center">
                  <Truck size={20} className="mr-2 text-teal-600" /> å¿«é€’èµ”å¿è´¦æœ¬ - æ•°æ®åº“åˆå§‹åŒ–
                </h2>

                <div className="bg-amber-50 border-l-4 border-amber-500 p-4 mb-6">
                  <div className="flex items-center">
                    <div className="mr-3">
                      <svg className="w-5 h-5 text-amber-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fillRule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clipRule="evenodd" />
                      </svg>
                    </div>
                    <div>
                      <p className="text-sm text-amber-800">
                        æ•°æ®åº“è¡¨ä¸å­˜åœ¨ï¼Œéœ€è¦åˆå§‹åŒ–ã€‚
                      </p>
                    </div>
                  </div>
                </div>

                <div className="space-y-4">
                  {/* ä¸€é”®åˆå§‹åŒ–æŒ‰é’® */}
                  <div className="text-center">
                    <button
                      onClick={quickInitDatabase}
                      className="w-full py-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium text-lg mb-4 focus:outline-none"
                    >
                      ğŸš€ ä¸€é”®åˆå§‹åŒ–æ•°æ®åº“
                    </button>
                  </div>

                  <div className="bg-slate-50 p-4 rounded-lg">
                    <h4 className="text-sm font-medium text-slate-700 mb-2">æ‰‹åŠ¨åˆå§‹åŒ–æ–¹æ³•ï¼š</h4>
                    <ol className="text-sm text-slate-600 space-y-2 list-decimal list-inside">
                      <li>å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°æµè§ˆå™¨æ§åˆ¶å°ï¼š</li>
                    </ol>
                  </div>

                  <div className="bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto">
                    <code className="text-xs">
                      {`fetch('quick-init.js').then(r => r.text()).then(code => eval(code));`}
                    </code>
                  </div>

                  <div className="bg-blue-50 border-l-4 border-blue-500 p-4">
                    <p className="text-sm text-blue-800">
                      æˆ–è€…åœ¨ Supabase Dashboard â†’ SQL Editor ä¸­æ‰‹åŠ¨æ‰§è¡Œ supabase_schema.sql æ–‡ä»¶å†…å®¹ã€‚
                    </p>
                  </div>

                  <button
                    onClick={checkDatabaseConnection}
                    className="w-full py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition font-medium focus:outline-none"
                  >
                    é‡æ–°æ£€æŸ¥æ•°æ®åº“
                  </button>
                </div>
              </Card>
            </div>
          );
        }

        // Main UI
        return (
          <div className="max-w-6xl mx-auto space-y-6">
            {/* Header with export button */}
            <div className="flex justify-between items-center">
              <h2 className="text-2xl font-bold text-slate-800 flex items-center">
                <Truck size={24} className="mr-2 text-teal-600" /> å¿«é€’èµ”å¿è´¦æœ¬
              </h2>
              <div className="flex gap-3">
                <button
                  onClick={exportToCSV}
                  disabled={filteredRecords.length === 0}
                  className="text-sm text-slate-500 hover:text-blue-600 disabled:text-slate-300 transition"
                >
                  å¯¼å‡ºCSV
                </button>
                <div className="text-xs text-slate-400 px-2 py-1 bg-slate-100 rounded">
                  Supabaseæ•°æ®åº“
                </div>
              </div>
            </div>

            {/* Statistics Cards */}
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
              <Card className="p-4 border-l-4 border-l-red-500">
                <div className="text-sm text-slate-500 mb-1">æœ¬æœˆæœªæ”¯ä»˜å‡€é¢</div>
                <div className="text-2xl font-bold text-red-600">
                  {unpaidTotal >= 0 ? '+' : ''}{unpaidTotal.toFixed(2)} å…ƒ
                </div>
              </Card>

              <Card className="p-4 border-l-4 border-l-emerald-500">
                <div className="text-sm text-slate-500 mb-1">å¿«é€’èµ”æˆ‘ï¼ˆæœªä»˜ï¼‰</div>
                <div className="text-2xl font-bold text-emerald-600">
                  +{unpaidCompensation.toFixed(2)} å…ƒ
                </div>
              </Card>

              <Card className="p-4 border-l-4 border-l-amber-500">
                <div className="text-sm text-slate-500 mb-1">æˆ‘èµ”å¿«é€’ï¼ˆæœªä»˜ï¼‰</div>
                <div className="text-2xl font-bold text-amber-600">
                  -{unpaidAdvance.toFixed(2)} å…ƒ
                </div>
              </Card>
            </div>

            {error && (
              <div className="bg-red-50 border-l-4 border-red-500 p-4">
                <p className="text-sm text-red-800">{error}</p>
              </div>
            )}

            {/* Action Buttons */}
            <button
              onClick={() => setShowForm(!showForm)}
              className="px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition font-medium flex items-center focus:outline-none"
            >
              <span className="mr-2">+</span> æ·»åŠ è®°å½•
            </button>

            {/* Add Record Form */}
            {showForm && (
              <Card className="p-6">
                <h3 className="font-bold text-slate-800 mb-4">æ–°å¢è®°å½•</h3>

                {/* Type Selection - Large Buttons */}
                <div className="grid grid-cols-2 gap-3 mb-6">
                  <button
                    type="button"
                    onClick={() => setFormData({ ...formData, type: 'compensation' })}
                    className={`py-3 px-6 rounded-lg font-medium transition-colors ${formData.type === 'compensation'
                      ? 'bg-blue-600 text-white shadow-md focus:outline-none'
                      : 'bg-white text-slate-600 border-2 border-slate-200 hover:border-blue-300 focus:outline-none'
                      }`}
                  >
                    æ”¶åˆ°èµ”å¿ï¼ˆæ”¶å…¥ï¼‰
                  </button>
                  <button
                    type="button"
                    onClick={() => setFormData({ ...formData, type: 'advance' })}
                    className={`py-3 px-6 rounded-lg font-medium transition-colors ${formData.type === 'advance'
                      ? 'bg-blue-600 text-white shadow-md focus:outline-none'
                      : 'bg-white text-slate-600 border-2 border-slate-200 hover:border-blue-300 focus:outline-none'
                      }`}
                  >
                    æ”¯ä»˜æå‰æ½æ”¶è´¹ç”¨ï¼ˆæ”¯å‡ºï¼‰
                  </button>
                </div>

                <div className="space-y-4">
                  <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                      <label className="block text-sm font-medium text-slate-700 mb-2">å¿«é€’å•å·</label>
                      <input
                        type="text"
                        value={formData.trackingNumber}
                        onChange={(e) => setFormData({ ...formData, trackingNumber: e.target.value })}
                        placeholder="è¾“å…¥å•å·..."
                        className="w-full border border-slate-300 rounded-lg p-2 focus:ring-2 focus:ring-teal-500"
                      />
                    </div>

                    {formData.type === 'compensation' && (
                      <div>
                        <label className="block text-sm font-medium text-slate-700 mb-2">é‡‘é¢ï¼ˆå…ƒï¼‰</label>
                        <input
                          type="number"
                          step="0.01"
                          value={formData.amount}
                          onChange={(e) => setFormData({ ...formData, amount: e.target.value })}
                          placeholder="0.00"
                          className="w-full border border-slate-300 rounded-lg p-2 focus:ring-2 focus:ring-teal-500"
                        />
                      </div>
                    )}

                    {formData.type === 'advance' && (
                      <div>
                        <label className="block text-sm font-medium text-slate-700 mb-2">é‡‘é¢ï¼ˆå…ƒï¼‰</label>
                        <input
                          type="text"
                          value="3"
                          disabled
                          className="w-full border border-slate-300 rounded-lg p-2 bg-slate-100 text-slate-600"
                        />
                      </div>
                    )}
                  </div>

                  <div>
                    <label className="block text-sm font-medium text-slate-700 mb-2">å¤‡æ³¨</label>
                    <input
                      type="text"
                      value={formData.note}
                      onChange={(e) => setFormData({ ...formData, note: e.target.value })}
                      placeholder="å¯é€‰å¤‡æ³¨ä¿¡æ¯..."
                      className="w-full border border-slate-300 rounded-lg p-2 focus:ring-2 focus:ring-teal-500"
                    />
                  </div>
                </div>



                <div className="flex gap-3 mt-6">
                  <button
                    onClick={createRecord}
                    disabled={!formData.trackingNumber || (formData.type === 'compensation' && !formData.amount)}
                    className="flex-1 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-300 transition font-medium focus:outline-none"
                  >
                    + è®°ä¸€ç¬”
                  </button>
                  <button
                    onClick={() => setShowForm(false)}
                    className="px-6 py-3 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition font-medium focus:outline-none"
                  >
                    å–æ¶ˆ
                  </button>
                </div>
              </Card>
            )}

            {/* Search and Filter */}
            <Card className="p-4">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                <input
                  type="text"
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  placeholder="æœç´¢å¿«é€’å•å·..."
                  className="w-full border border-slate-300 rounded-lg p-2 focus:ring-2 focus:ring-teal-500"
                />
                <input
                  type="month"
                  value={selectedMonth}
                  onChange={(e) => setSelectedMonth(e.target.value)}
                  className="w-full border border-slate-300 rounded-lg p-2 focus:ring-2 focus:ring-teal-500"
                />
              </div>
            </Card>

            {/* Records List */}
            <Card className="p-6">
              <h3 className="font-bold text-slate-800 mb-4">
                è®°å½•åˆ—è¡¨ ({filteredRecords.length})
              </h3>

              {loading ? (
                <div className="text-center py-8 text-slate-500">åŠ è½½ä¸­...</div>
              ) : filteredRecords.length === 0 ? (
                <div className="text-center py-8 text-slate-500">æš‚æ— è®°å½•</div>
              ) : (
                <div className="space-y-3">
                  {filteredRecords.map((record) => (
                    <div
                      key={record.id}
                      className={`border rounded-lg p-4 ${record.isPaid ? 'bg-slate-50 border-slate-200' : 'bg-white border-slate-300'}`}
                    >
                      <div className="flex justify-between items-start">
                        <div className="flex-1">
                          <div className="flex items-center gap-2 mb-2">
                            <span className={`px-2 py-1 rounded text-xs font-medium ${record.type === 'compensation'
                              ? 'bg-emerald-100 text-emerald-700'
                              : 'bg-amber-100 text-amber-700'
                              }`}>
                              {record.type === 'compensation' ? 'å¿«é€’èµ”æˆ‘' : 'æå‰æ½æ”¶'}
                            </span>
                            <span className={`px-2 py-1 rounded text-xs font-medium ${record.isPaid
                              ? 'bg-blue-100 text-blue-700'
                              : 'bg-red-100 text-red-700'
                              }`}>
                              {record.isPaid ? 'å·²æ”¯ä»˜' : 'æœªæ”¯ä»˜'}
                            </span>
                            <span className="text-xs text-slate-500">{record.date}</span>
                          </div>
                          <div className="font-mono text-slate-800 font-medium">
                            {record.trackingNumber}
                          </div>
                          {record.note && (
                            <div className="text-sm text-slate-500 mt-1">
                              å¤‡æ³¨ï¼š{record.note}
                            </div>
                          )}
                        </div>

                        <div className="flex items-center gap-3">
                          <div className={`text-xl font-bold ${record.amount >= 0 ? 'text-emerald-600' : 'text-amber-600'
                            }`}>
                            {record.amount >= 0 ? '+' : ''}{record.amount.toFixed(2)}å…ƒ
                          </div>

                          <div className="flex gap-3 items-center">
                            {/* Toggle Switch for Payment Status with Labels */}
                            <div className="flex items-center gap-2">
                              <span className={`text-xs font-medium ${!record.isPaid ? 'text-slate-700' : 'text-slate-400'}`}>
                                æœªä»˜
                              </span>
                              <button
                                type="button"
                                onClick={() => updateRecordStatus(record.id, !record.isPaid)}
                                className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${record.isPaid ? 'bg-emerald-600' : 'bg-slate-300'
                                  }`}
                              >
                                <span
                                  className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${record.isPaid ? 'translate-x-6' : 'translate-x-1'
                                    }`}
                                />
                              </button>
                              <span className={`text-xs font-medium ${record.isPaid ? 'text-emerald-600' : 'text-slate-400'}`}>
                                å·²ä»˜
                              </span>
                            </div>
                            <button
                              onClick={() => deleteRecord(record.id)}
                              className="px-3 py-1 bg-red-100 text-red-700 rounded text-sm font-medium hover:bg-red-200 transition focus:outline-none"
                            >
                              åˆ é™¤
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              )}
            </Card>
          </div>
        );
      };

      const ContentRenderer = () => {
        switch (activeTab) {
          case 'dashboard': return <Dashboard />;
          case 'calculator': return <DecisionCalculator />;
          case 'expressCompensation': return <ExpressCompensationModule />;
          case 'refunds': return <RefundsModule />;
          case 'returns': return <ReturnsModule />;
          case 'replace': return <ReplaceModule />;
          case 'blacklist': return <CustomerBlacklistModule />;
          case 'manual': return <NotesModule />;
          case 'overdue': return <OverdueModule />;
          case 'oversold': return <OversoldModule />;
          case 'wrongShipment': return <WrongShipmentModule />;
          default: return <Dashboard />;
        }
      }

      return (
        <div className="min-h-screen bg-slate-100 font-sans text-slate-800">
          {/* Header */}
          <header className="bg-white shadow-sm border-b sticky top-0 z-50">
            <div className="max-w-5xl mx-auto px-4 h-16 flex items-center justify-between">
              <div className="flex items-center space-x-3">
                {/* Mobile Menu Button */}
                <button
                  onClick={() => setIsMobileMenuOpen(true)}
                  className="md:hidden p-2 -ml-2 text-slate-600 hover:bg-slate-100 rounded-lg"
                >
                  <Menu size={24} />
                </button>
                <div className="bg-blue-600 text-white p-2 rounded-lg">
                  <MessageSquare size={20} />
                </div>
                <h1 className="text-lg font-bold">å®¢æœå”®åå·¥ä½œå°</h1>
              </div>
              <div className="hidden md:block text-xs text-slate-500 bg-slate-100 px-3 py-1 rounded-full">
                ç‰ˆæœ¬: v1.8 (ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–ï¼Œæ–°å¢ä¾§è¾¹æ å¯¼èˆªï¼Œä¼˜åŒ–SOPå¸ƒå±€)
              </div>
            </div>
          </header>

          {/* Main Content */}
          {/* å“åº”å¼å¸ƒå±€ï¼šåœ¨ md æ–­ç‚¹ä»¥ä¸‹ï¼Œä¾§è¾¹æ å¯¼èˆªä¼šå˜æˆæŠ½å±‰å¼ */}
          <main className="max-w-5xl mx-auto px-4 py-6 flex flex-col md:flex-row gap-6 relative">

            {/* Mobile Sidebar Overlay */}
            {isMobileMenuOpen && (
              <div
                className="fixed inset-0 top-16 bg-black/50 z-30 md:hidden"
                onClick={() => setIsMobileMenuOpen(false)}
              />
            )}

            {/* Sidebar Navigation */}
            <nav className={`
              fixed md:static top-16 bottom-0 md:inset-y-0 left-0 z-40 w-64 bg-white md:bg-transparent shadow-xl md:shadow-none transform transition-transform duration-300 ease-in-out
              ${isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}
              flex-shrink-0 space-y-2 p-4 md:p-2 h-[calc(100vh-4rem)] md:h-auto overflow-y-auto md:overflow-visible
            `}>
              <div className="flex justify-between items-center md:hidden mb-6">
                <h2 className="font-bold text-lg text-slate-800">èœå•å¯¼èˆª</h2>
                <button
                  onClick={() => setIsMobileMenuOpen(false)}
                  className="p-2 -mr-2 text-slate-500 hover:bg-slate-100 rounded-full"
                >
                  <X size={24} />
                </button>
              </div>

              <button
                onClick={() => { setActiveTab('dashboard'); setIsMobileMenuOpen(false); }}
                className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'dashboard' ? 'bg-blue-600 text-white shadow-md' : 'bg-white text-slate-600 hover:bg-slate-50'}`}
              >
                <CheckSquare size={18} className="mr-3" /> å·¥ä½œæ€»è§ˆ
              </button>

              <div className="pt-4 pb-2 text-xs font-bold text-slate-400 uppercase tracking-wider px-4">å·¥å…·</div>
              <button
                onClick={() => { setActiveTab('calculator'); setIsMobileMenuOpen(false); }}
                className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'calculator' ? 'bg-white text-blue-600 border-l-4 border-blue-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
              >
                <Calculator size={18} className="mr-3" /> å†³ç­–è®¡ç®—å™¨
              </button>
              <button
                onClick={() => { setActiveTab('expressCompensation'); setIsMobileMenuOpen(false); }}
                className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'expressCompensation' ? 'bg-white text-teal-600 border-l-4 border-teal-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
              >
                <Truck size={18} className="mr-3" /> å¿«é€’èµ”å¿è®°å½•
              </button>

              {/* SOP æµç¨‹æŒ‡å¼• - å¯æŠ˜å  */}
              <div
                className="flex items-center justify-between px-4 pt-4 pb-2 cursor-pointer hover:bg-slate-50 rounded transition select-none"
                onClick={() => setIsSopExpanded(!isSopExpanded)}
              >
                <div className="text-xs font-bold text-slate-400 uppercase tracking-wider">SOP æµç¨‹æŒ‡å¼•</div>
                {isSopExpanded ? <ChevronDown size={14} className="text-slate-400" /> : <ChevronRight size={14} className="text-slate-400" />}
              </div>

              {isSopExpanded && (
                <div className="space-y-1">
                  <button
                    onClick={() => { setActiveTab('refunds'); setIsMobileMenuOpen(false); }}
                    className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'refunds' ? 'bg-white text-blue-600 border-l-4 border-blue-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
                  >
                    <Search size={18} className="mr-3" /> ä»…é€€æ¬¾ / æ‹¦æˆª
                  </button>
                  <button
                    onClick={() => { setActiveTab('returns'); setIsMobileMenuOpen(false); }}
                    className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'returns' ? 'bg-white text-emerald-600 border-l-4 border-emerald-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
                  >
                    <Package size={18} className="mr-3" /> é€€è´§æ‰«ç 
                  </button>
                  <button
                    onClick={() => { setActiveTab('replace'); setIsMobileMenuOpen(false); }}
                    className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'replace' ? 'bg-white text-purple-600 border-l-4 border-purple-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
                  >
                    <RefreshCw size={18} className="mr-3" /> è¡¥å‘ / æ¢è´§
                  </button>
                  <button
                    onClick={() => { setActiveTab('overdue'); setIsMobileMenuOpen(false); }}
                    className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'overdue' ? 'bg-white text-amber-600 border-l-4 border-amber-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
                  >
                    <Clock size={18} className="mr-3" /> è¶…æœŸå”®å
                  </button>
                  <button
                    onClick={() => { setActiveTab('oversold'); setIsMobileMenuOpen(false); }}
                    className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'oversold' ? 'bg-white text-rose-600 border-l-4 border-rose-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
                  >
                    <AlertTriangle size={18} className="mr-3" /> è¶…å–å¤„ç†
                  </button>
                  <button
                    onClick={() => { setActiveTab('wrongShipment'); setIsMobileMenuOpen(false); }}
                    className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'wrongShipment' ? 'bg-white text-indigo-600 border-l-4 border-indigo-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
                  >
                    <FileText size={18} className="mr-3" /> é”™å‘å¤„ç†
                  </button>
                </div>
              )}

              {/* æ—¥å¸¸æµç¨‹æŒ‡å¼• (åŸå…¶å®ƒ) - å¯æŠ˜å  */}
              <div
                className="flex items-center justify-between px-4 pt-4 pb-2 cursor-pointer hover:bg-slate-50 rounded transition select-none"
                onClick={() => setIsDailyExpanded(!isDailyExpanded)}
              >
                <div className="text-xs font-bold text-slate-400 uppercase tracking-wider">æ—¥å¸¸æµç¨‹æŒ‡å¼•</div>
                {isDailyExpanded ? <ChevronDown size={14} className="text-slate-400" /> : <ChevronRight size={14} className="text-slate-400" />}
              </div>

              {isDailyExpanded && (
                <div className="space-y-1">
                  <button
                    onClick={() => { setActiveTab('blacklist'); setIsMobileMenuOpen(false); }}
                    className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'blacklist' ? 'bg-white text-red-600 border-l-4 border-red-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
                  >
                    <UserX size={18} className="mr-3" /> é£é™©æ§åˆ¶
                  </button>
                  <button
                    onClick={() => { setActiveTab('manual'); setIsMobileMenuOpen(false); }}
                    className={`w-full text-left px-4 py-3 rounded-lg font-medium flex items-center transition ${activeTab === 'manual' ? 'bg-white text-orange-600 border-l-4 border-orange-600 shadow-sm' : 'text-slate-600 hover:bg-white hover:shadow-sm'}`}
                  >
                    <AlertCircle size={18} className="mr-3" /> æ“ä½œæŠ€å·§
                  </button>
                </div>
              )}
            </nav>

            {/* Content Area */}
            <div className="flex-1">
              <ContentRenderer />
            </div>

          </main>
        </div>
      );
    }

    root.render(<App />);
  </script>
</body>

</html>